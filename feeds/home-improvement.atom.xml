<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Stanley Solutions Blog - Home-Improvement</title><link href="https://engineerjoe440.github.io/stanley-solutions-blog/" rel="alternate"></link><link href="https://engineerjoe440.github.io/stanley-solutions-blog/feeds/home-improvement.atom.xml" rel="self"></link><id>https://engineerjoe440.github.io/stanley-solutions-blog/</id><updated>2022-08-04T15:52:00-07:00</updated><subtitle>Engineering and creativity - all under one hat.</subtitle><entry><title>Making Feline Stink a Distant Memory</title><link href="https://engineerjoe440.github.io/stanley-solutions-blog/making-feline-stink-a-distant-memory.html" rel="alternate"></link><published>2022-08-04T15:52:00-07:00</published><updated>2022-08-04T15:52:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:engineerjoe440.github.io,2022-08-04:/stanley-solutions-blog/making-feline-stink-a-distant-memory.html</id><summary type="html">&lt;p&gt;We all love our pets, but nobody likes cleaning up after them when they "do their business," right? Well, I'm in that same boat. It's the reason I have a "Cat Closet," where my automatic litterbox is located. Trouble is, when he uses it, that thing gets to stinkin' - and pretty quick too! Thus, I've come to a resolution with a new home-automation system. I call it "ScentAssist." Let me explain...&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/engineerjoe440/ScentAssist/master/logo/ScentAssist.png" style="width: 40%; margin: 10px;" align="right" alt="ScentAssist"&gt;&lt;/p&gt;
&lt;p&gt;Like I said, we all love our pets, but sometimes the "stink" can be overwhelming. &lt;em&gt;Especially with cats...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;My little "Cat Closet" helps to keep things somewhat isolated, but it produces a new challenge: all of that stink gets trapped &lt;strong&gt;&lt;em&gt;indefinitely&lt;/em&gt;&lt;/strong&gt;. That's... well, less than
ideal in just about any situation. So I came up with a solution that I call &lt;a href="https://github.com/engineerjoe440/ScentAssist"&gt;&lt;code&gt;ScentAssist&lt;/code&gt;&lt;/a&gt;. In a nutshell, it's an automatic
fan. Nothing crazy, but it's SUPER helpful, and pretty simple!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/scentassist/ima_1a16017.jpeg" style="width: 100%;" align="right" alt="ScentAssist"&gt;&lt;/p&gt;
&lt;p&gt;So, with a system that's not really IoT, but is embedded, I wanted a very predictable routine configuration. I wanted the system to be predictable, and work without too much
fuss.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;asside:&lt;/em&gt; I'm still working on that last part, but I'll get to that later...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With this desire in mind, I opted to base my system around a relatively simple state-machine.&lt;/p&gt;
&lt;p&gt;&lt;img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1MjBweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjc0NXB4O2hlaWdodDo1MjBweDtiYWNrZ3JvdW5kOiMyODI4Mjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3NDUgNTIwIiB3aWR0aD0iNzQ1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48ZyBpZD0iSURMRSI+PHJlY3QgZmlsbD0iIzI4MjgyOCIgaGVpZ2h0PSI2OC44OTA2IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIwMSIgeD0iMzM4LjY5NzciIHk9IjEwOCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMzOC42OTc3IiB4Mj0iNTM5LjY5NzciIHkxPSIxMzQuMjk2OSIgeTI9IjEzNC4yOTY5Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzIiIHg9IjQyMy4xOTc3IiB5PSIxMjUuOTk1MSI+SURMRTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTgiIHg9IjM0My42OTc3IiB5PSIxNTIuMjkyIj5HZW5lcmljIFN5c3RlbSBTdGF0ZTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODEiIHg9IjM0My42OTc3IiB5PSIxNjguNTg4OSI+KGV2ZXJ5dGhpbmcgcmV0dXJucyBoZXJlKTwvdGV4dD48L2c+PGcgaWQ9IkFDVElWQVRFIj48cmVjdCBmaWxsPSIjMjgyODI4IiBoZWlnaHQ9IjY4Ljg5MDYiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTc1IiB4PSIyNTEuNjk3NyIgeT0iNDQ2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjUxLjY5NzciIHgyPSI0MjYuNjk3NyIgeTE9IjQ3Mi4yOTY5IiB5Mj0iNDcyLjI5NjkiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MSIgeD0iMzAzLjY5NzciIHk9IjQ2My45OTUxIj5BQ1RJVkFURTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNTUiIHg9IjI1Ni42OTc3IiB5PSI0OTAuMjkyIj5UdXJuIG9uIExFRCBhbmQgcmVsYXk8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwIiB4PSIyNTYuNjk3NyIgeT0iNTA2LjU4ODkiPnRvIGVuZXJnaXplIGZhbjwvdGV4dD48L2c+PGcgaWQ9IkRFVEVDVEVEIj48cmVjdCBmaWxsPSIjMjgyODI4IiBoZWlnaHQ9Ijg1LjE4NzUiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTY4IiB4PSIxNDYuMTk3NyIgeT0iMjY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTQ2LjE5NzciIHgyPSIzMTQuMTk3NyIgeTE9IjI5NS4yOTY5IiB5Mj0iMjk1LjI5NjkiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iMTkxLjY5NzciIHk9IjI4Ni45OTUxIj5ERVRFQ1RFRDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDgiIHg9IjE1MS4xOTc3IiB5PSIzMTMuMjkyIj5Db25kaXRpb24gdHVybmluZyBvbjwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTciIHg9IjE1MS4xOTc3IiB5PSIzMjkuNTg4OSI+ZmFuLCBvciByZXNldHRpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODIiIHg9IjE1MS4xOTc3IiB5PSIzNDUuODg1NyI+ZGVsYXkgdGltZXI8L3RleHQ+PC9nPjxnIGlkPSJSRVNFVCI+PHJlY3QgZmlsbD0iIzI4MjgyOCIgaGVpZ2h0PSI4NS4xODc1IiByeD0iMTIuNSIgcnk9IjEyLjUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE2NiIgeD0iNTcyLjE5NzciIHk9IjI2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjU3Mi4xOTc3IiB4Mj0iNzM4LjE5NzciIHkxPSIyOTUuMjk2OSIgeTI9IjI5NS4yOTY5Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjYzMi4xOTc3IiB5PSIyODYuOTk1MSI+UkVTRVQ8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE4IiB4PSI1NzcuMTk3NyIgeT0iMzEzLjI5MiI+VHVybiBmYW4gb2ZmLCBhbmQ8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQ2IiB4PSI1NzcuMTk3NyIgeT0iMzI5LjU4ODkiPnJlc3RvcmUgZGVmYXVsdCB0aW1lPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iNTc3LjE5NzciIHk9IjM0NS44ODU3Ij5jb3VudGVyIHZhbHVlczwvdGV4dD48L2c+PGVsbGlwc2UgY3g9IjQzOS4xOTc3IiBjeT0iMjEiIGZpbGw9IiMzM0ZGMzMiIHJ4PSIxMCIgcnk9IjEwIiBzdHlsZT0ic3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuMDsiLz48IS0tTUQ1PVs5YzU2NzNkZDlmNTY5ZmUyNDUwNDA2MGFiNzhiZTk2M10KbGluayAqc3RhcnQgdG8gSURMRS0tPjxnIGlkPSJsaW5rXypzdGFydF9JRExFIj48cGF0aCBkPSJNNDM5LjE5NzcsMzEuMzc3IEM0MzkuMTk3Nyw0Ni41ODIgNDM5LjE5NzcsNzcuNDU0IDQzOS4xOTc3LDEwMi42NTEgIiBmaWxsPSJub25lIiBpZD0iKnN0YXJ0LXRvLUlETEUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iNDM5LjE5NzcsMTA3LjkzNCw0NDMuMTk3Nyw5OC45MzQsNDM5LjE5NzcsMTAyLjkzNCw0MzUuMTk3Nyw5OC45MzQsNDM5LjE5NzcsMTA3LjkzNCIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDUiIHg9IjQ0MC4xOTc3IiB5PSI3NC4wNjY5Ij5ib290dXA8L3RleHQ+PC9nPjwhLS1NRDU9WzNlZDUwY2E4OTVmZGEyYjRkZmQ5MTA2Y2E4MzU1YzAwXQpsaW5rIElETEUgdG8gQUNUSVZBVEUtLT48ZyBpZD0ibGlua19JRExFX0FDVElWQVRFIj48cGF0aCBkPSJNNDQ0LjU0NDcsMTc3LjI1OCBDNDUxLjM4NzcsMjMxLjE2NCA0NTcuOTQ4NywzMzguNDkgNDE3LjE5NzcsNDE2IEM0MTIuMDk5Nyw0MjUuNjk2MSA0MDQuODE2Nyw0MzQuNDUzMyAzOTYuNzI0Nyw0NDIuMTQ5NiAiIGZpbGw9Im5vbmUiIGlkPSJJRExFLXRvLUFDVElWQVRFIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzNGRjMzIiBwb2ludHM9IjM5Mi42OTM3LDQ0NS44NDIsNDAyLjAzMjIsNDQyLjcxMjksMzk2LjM4MDgsNDQyLjQ2NDksMzk2LjYyODgsNDM2LjgxMzQsMzkyLjY5MzcsNDQ1Ljg0MiIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTIiIHg9IjQ1MC4xOTc3IiB5PSIzMDguNTY2OSI+VXNlciBtYW51YWxseTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iNDU2LjE5NzciIHk9IjMyMy42OTk3Ij5hY3RpdmF0ZXMgZmFuPC90ZXh0PjwvZz48IS0tTUQ1PVsyM2YxZWUyYWM2NGM3MDExNWNjNTg4Yjc0MmRlNTZhYV0KbGluayBJRExFIHRvIERFVEVDVEVELS0+PGcgaWQ9ImxpbmtfSURMRV9ERVRFQ1RFRCI+PHBhdGggZD0iTTMzOC41OTI3LDE0NS40NDkgQzIzNC44MTI3LDE0OS44MzkgODMuMDQ5MiwxNjMuNzE2IDQ2LjE5NzgsMjA3IEMxMSwyNDguMzQyIDc4LjE1MzMsMjc2LjQ5NSAxNDAuOTg4NywyOTIuODggIiBmaWxsPSJub25lIiBpZD0iSURMRS10by1ERVRFQ1RFRCIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzMzRkYzMyIgcG9pbnRzPSIxNDUuODg4NywyOTQuMTM2LDEzOC4xNjM4LDI4OC4wMjY1LDE0MS4wNDUzLDI5Mi44OTQ0LDEzNi4xNzczLDI5NS43NzU5LDE0NS44ODg3LDI5NC4xMzYiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzNSIgeD0iNDcuMTk3OCIgeT0iMjIwLjA2NjkiPkZ1bGx5IFF1YWxpZmllZCBNb3Rpb248L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTEwIiB4PSI2My42OTc4IiB5PSIyMzUuMTk5NyI+U2Vuc29yIERldGVjdGlvbjwvdGV4dD48L2c+PCEtLU1ENT1bODIzMzcwNGQ5YzMxODc1NDI5MzY0MDExNTY0OGYyNzZdCmxpbmsgREVURUNURUQgdG8gSURMRS0tPjxnIGlkPSJsaW5rX0RFVEVDVEVEX0lETEUiPjxwYXRoIGQ9Ik0yMTcuNjk1NywyNjguODExIEMyMTQuMTcwNywyNDguMzI2IDIxNC4yNjM3LDIyNC4zNzYgMjI3LjE5NzcsMjA3IEMyNDAuODEwNywxODguNzEyIDI4Ny4zNjE3LDE3My43MzMgMzMzLjM4NzcsMTYyLjkyNiAiIGZpbGw9Im5vbmUiIGlkPSJERVRFQ1RFRC10by1JRExFIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzNGRjMzIiBwb2ludHM9IjMzOC40MTQ3LDE2MS43NjEsMzI4Ljc0NDEsMTU5Ljg5NTUsMzMzLjU0MzcsMTYyLjg4OTUsMzMwLjU0OTcsMTY3LjY4OSwzMzguNDE0NywxNjEuNzYxIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDQiIHg9IjI0Ni4xOTc3IiB5PSIyMjAuMDY2OSI+U3RhcnQgY291bnRkb3duIHRpbWVyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MCIgeD0iMjMyLjE5NzciIHk9IjIzNS4xOTk3Ij4oZGVsYXkgYWZ0ZXIgZGV0ZWN0aW5nIGEgY2F0KTwvdGV4dD48L2c+PCEtLU1ENT1bMDZhZWFmNDEyZWE5NTI5MTZkYzYzMDNmMDA2OWYzNTJdCmxpbmsgREVURUNURUQgdG8gQUNUSVZBVEUtLT48ZyBpZD0ibGlua19ERVRFQ1RFRF9BQ1RJVkFURSI+PHBhdGggZD0iTTIyOS4xNDE3LDM1NC4yMjcgQzIzMC40MjU3LDM3NC4yNDUgMjM0LjcwNjcsMzk3Ljc3NCAyNDYuMTk3Nyw0MTYgQzI1Mi41ODQ3LDQyNi4xMjk0IDI2MS4yMzg3LDQzNS4wNDY4IDI3MC43MDk3LDQ0Mi43NTIyICIgZmlsbD0ibm9uZSIgaWQ9IkRFVEVDVEVELXRvLUFDVElWQVRFIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzNGRjMzIiBwb2ludHM9IjI3NC44MTQ3LDQ0NS45ODAzLDI3MC4yMTE3LDQzNy4yNzMyLDI3MC44ODQsNDQyLjg5LDI2NS4yNjczLDQ0My41NjIzLDI3NC44MTQ3LDQ0NS45ODAzIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjEiIHg9IjI0Ny4xOTc3IiB5PSIzOTcuMDY2OSI+RmFuIHdhcyBhbHJlYWR5IHJ1bm5pbmcsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OCIgeD0iMjU3LjY5NzciIHk9IjQxMi4xOTk3Ij5tYXhpbWl6ZSBydW5uaW5nIHRpbWU8L3RleHQ+PC9nPjwhLS1NRDU9W2JlNzkxNjczNzUxZDMxNjMzZmViODc5MjJkNjVlMzAwXQpsaW5rIElETEUgdG8gUkVTRVQtLT48ZyBpZD0ibGlua19JRExFX1JFU0VUIj48cGF0aCBkPSJNNDUyLjk2NTcsMTc3LjA4MSBDNDYyLjYwNTcsMTk3LjE4NyA0NzcuMTY1NywyMjIuMDQ4IDQ5Ni4xOTc3LDIzOSBDNTA4LjEwNDcsMjQ5LjYwNSA1MzcuMTQzNywyNjMuNTkyIDU2Ny4xOTY3LDI3Ni4zODEgIiBmaWxsPSJub25lIiBpZD0iSURMRS10by1SRVNFVCIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzMzRkYzMyIgcG9pbnRzPSI1NzIuMDI1NywyNzguNDIzLDU2NS4yOTM3LDI3MS4yMzQxLDU2Ny40MjA0LDI3Ni40NzYsNTYyLjE3ODUsMjc4LjYwMjcsNTcyLjAyNTcsMjc4LjQyMyIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwIiB4PSI0OTcuMTk3NyIgeT0iMjI3LjU2NjkiPkZhbiBydW50aW1lIGVsYXBzZXM8L3RleHQ+PC9nPjwhLS1NRDU9W2RkMTZkZWYyMjQ2ODAyMzZkZGU1OWZiNzc0NDQ3MzA3XQpsaW5rIFJFU0VUIHRvIElETEUtLT48ZyBpZD0ibGlua19SRVNFVF9JRExFIj48cGF0aCBkPSJNNjU1LjI3ODcsMjY4Ljc5NyBDNjUzLjIwMDcsMjQ3LjkzMyA2NDcuMjcwNywyMjMuNjQ3IDYzMi4xOTc3LDIwNyBDNjA5LjU1NjcsMTgxLjk5MyA1NzYuODk2NywxNjYuODA5IDU0NC44NjQ3LDE1Ny41OTcgIiBmaWxsPSJub25lIiBpZD0iUkVTRVQtdG8tSURMRSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzMzRkYzMyIgcG9pbnRzPSI1MzkuNzMwNywxNTYuMTY5LDU0Ny4zMjk1LDE2Mi40MzQ3LDU0NC41NDc4LDE1Ny41MDksNTQ5LjQ3MzUsMTU0LjcyNzMsNTM5LjczMDcsMTU2LjE2OSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1NRDU9WzEyYjhkYWI2MTQxNWJlN2ZiYTQzMzk4ZTA1Njk2OWFiXQpAc3RhcnR1bWwNCiF0aGVtZSBjcnQtZ3JlZW4NCiAgICBoaWRlIGVtcHR5IGRlc2NyaXB0aW9uDQogICAgSURMRSA6IEdlbmVyaWMgU3lzdGVtIFN0YXRlDQogICAgSURMRSA6IChldmVyeXRoaW5nIHJldHVybnMgaGVyZSkNCiAgICBBQ1RJVkFURTogVHVybiBvbiBMRUQgYW5kIHJlbGF5DQogICAgQUNUSVZBVEU6IHRvIGVuZXJnaXplIGZhbg0KICAgIERFVEVDVEVEOiBDb25kaXRpb24gdHVybmluZyBvbg0KICAgIERFVEVDVEVEOiBmYW4sIG9yIHJlc2V0dGluZw0KICAgIERFVEVDVEVEOiBkZWxheSB0aW1lcg0KICAgIFJFU0VUOiBUdXJuIGZhbiBvZmYsIGFuZA0KICAgIFJFU0VUOiByZXN0b3JlIGRlZmF1bHQgdGltZQ0KICAgIFJFU0VUOiBjb3VudGVyIHZhbHVlcw0KDQogICAgWypdIC0gLT4gSURMRSA6IGJvb3R1cA0KICAgIElETEUgLSAtPiBBQ1RJVkFURSA6IFVzZXIgbWFudWFsbHkgXG5hY3RpdmF0ZXMgZmFuDQogICAgSURMRSAtPiBERVRFQ1RFRCA6IEZ1bGx5IFF1YWxpZmllZCBNb3Rpb24gXG4gU2Vuc29yIERldGVjdGlvbg0KICAgIERFVEVDVEVEIC0gLT4gQUNUSVZBVEUgOiBGYW4gd2FzIGFscmVhZHkgcnVubmluZywgXG4gbWF4aW1pemUgcnVubmluZyB0aW1lDQogICAgREVURUNURUQgLSAtPiBJRExFIDogU3RhcnQgY291bnRkb3duIHRpbWVyIFxuIChkZWxheSBhZnRlciBkZXRlY3RpbmcgYSBjYXQpDQogICAgSURMRSAtIC0+IFJFU0VUIDogRmFuIHJ1bnRpbWUgZWxhcHNlcw0KICAgIFJFU0VUIC0gLT4gSURMRQ0KQGVuZHVtbA0KCkBzdGFydHVtbA0KDQoNCg0KDQoNCjxzdHlsZT4NCiAgcm9vdCB7DQogICAgQmFja2dyb3VuZENvbG9yICMyODI4MjgNCiAgICBGb250Q29sb3IgIzMzRkYzMw0KICAgIEZvbnROYW1lIFZlcmRhbmENCiAgICBIeXBlckxpbmtDb2xvciAjMzNGRjMzDQogICAgTGluZUNvbG9yICMzM0ZGMzMNCiAgICBMaW5lVGhpY2tuZXNzIDENCiAgICBNYXJnaW4gNQ0KICB9DQogIGJveCB7DQogICAgTGluZVN0eWxlIDEyLTE4DQogICAgTGluZVRoaWNrbmVzcyAzDQogIH0NCiAgY2FwdGlvbiB7DQogICAgTGluZVRoaWNrbmVzcyAwDQogIH0NCiAgZm9vdGVyIHsNCiAgICBMaW5lVGhpY2tuZXNzIDANCiAgfQ0KICBncm91cEhlYWRlciB7DQogICAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgICBGb250Q29sb3IgIzI4MjgyOA0KICAgIEZvbnRTdHlsZSBib2xkDQogIH0NCiAgaGVhZGVyIHsNCiAgICBMaW5lVGhpY2tuZXNzIDANCiAgfQ0KICBub2RlIHsNCiAgICBNYXhpbXVtV2lkdGggMzAwDQogIH0NCiAgcmVmZXJlbmNlSGVhZGVyIHsNCiAgICBCYWNrZ3JvdW5kQ29sb3IgIzMzRkYzMw0KICAgIEZvbnRDb2xvciAjMjgyODI4DQogICAgRm9udFN0eWxlIGJvbGQNCiAgfQ0KICBzZXBhcmF0b3Igew0KICAgIEJhY2tncm91bmRDb2xvciAjMzNGRjMzDQogICAgRm9udENvbG9yICMyODI4MjgNCiAgICBGb250U3R5bGUgYm9sZA0KICB9DQogIHRpdGxlIHsNCiAgICBGb250U2l6ZSAyMg0KICAgIExpbmVUaGlja25lc3MgMA0KICB9DQo8L3N0eWxlPg0KDQpza2lucGFyYW0gQXJyb3dMb2xsaXBvcENvbG9yICMzM0ZGMzMNCnNraW5wYXJhbSBCYWNrZ3JvdW5kQ29sb3IgIzI4MjgyOA0Kc2tpbnBhcmFtIERlZmF1bHRGb250TmFtZSBWZXJkYW5hDQpza2lucGFyYW0gRGVmYXVsdE1vbm9zcGFjZWRGb250TmFtZSBDb3VyaWVyDQpza2lucGFyYW0gTGlmZWxpbmVTdHJhdGVneSBzb2xpZA0Kc2tpbnBhcmFtIFBhcnRpY2lwYW50UGFkZGluZyAxMA0Kc2tpbnBhcmFtIFNlcXVlbmNlTGlmZUxpbmVCb3JkZXJDb2xvciAjMzNGRjMzDQpza2lucGFyYW0gU2hhZG93aW5nIGZhbHNlDQpza2lucGFyYW0gVXNlQmV0YVN0eWxlIHRydWUNCg0Kc2tpbnBhcmFtIEFjdGl2aXR5IHsNCiAgQmFja2dyb3VuZENvbG9yICMyODI4MjgNCiAgQmFyQ29sb3IgIzMzRkYzMw0KICBCb3JkZXJDb2xvciAjMzNGRjMzDQogIEZvbnRDb2xvciAjMzNGRjMzDQogIEZvbnROYW1lIFZlcmRhbmENCn0NCnNraW5wYXJhbSBCb3VuZGFyeSB7DQogIEZvbnRDb2xvciAjMzNGRjMzDQp9DQpza2lucGFyYW0gQm94IHsNCiAgUGFkZGluZyA1DQp9DQpza2lucGFyYW0gQ2lyY2xlZENoYXJhY3RlciB7DQogIEZvbnRDb2xvciAjMjgyODI4DQogIEZvbnROYW1lIENvdXJpZXINCiAgUmFkaXVzIDkNCn0NCnNraW5wYXJhbSBDbGFzcyB7DQogIEJhY2tncm91bmRDb2xvciAjMjgyODI4DQogIEJvcmRlckNvbG9yICMzM0ZGMzMNCiAgRm9udENvbG9yICMzM0ZGMzMNCiAgRm9udE5hbWUgVmVyZGFuYQ0KfQ0Kc2tpbnBhcmFtIENsYXNzQXR0cmlidXRlIHsNCiAgRm9udENvbG9yICMzM0ZGMzMNCiAgRm9udE5hbWUgVmVyZGFuYQ0KfQ0Kc2tpbnBhcmFtIENsYXNzU3RlcmVvdHlwZSB7DQogIEZvbnRDb2xvciAjMzNGRjMzDQogIEZvbnROYW1lIFZlcmRhbmENCn0NCnNraW5wYXJhbSBGb290ZXIgew0KICBGb250Q29sb3IgIzMzRkYzMw0KICBGb250TmFtZSBWZXJkYW5hDQp9DQpza2lucGFyYW0gSGVhZGVyIHsNCiAgRm9udENvbG9yICMzM0ZGMzMNCiAgRm9udE5hbWUgVmVyZGFuYQ0KfQ0Kc2tpbnBhcmFtIEh5cGVybGluayB7DQogIENvbG9yICMzM0ZGMzMNCn0NCnNraW5wYXJhbSBJY29uUGFja2FnZSB7DQogIENvbG9yICMzM0ZGMzMNCiAgQmFja2dyb3VuZENvbG9yICMyODI4MjgNCn0NCnNraW5wYXJhbSBJY29uUHJpdmF0ZSB7DQogIENvbG9yICMzM0ZGMzMNCiAgQmFja2dyb3VuZENvbG9yICMyODI4MjgNCn0NCnNraW5wYXJhbSBJY29uUHJvdGVjdGVkIHsNCiAgQ29sb3IgIzMzRkYzMw0KICBCYWNrZ3JvdW5kQ29sb3IgIzI4MjgyOA0KfQ0Kc2tpbnBhcmFtIEljb25QdWJsaWMgew0KICBDb2xvciAjMzNGRjMzDQogIEJhY2tncm91bmRDb2xvciAjMjgyODI4DQp9DQpza2lucGFyYW0gTm90ZSB7DQogIEZvbnRDb2xvciAjMzNGRjMzDQogIEZvbnROYW1lIFZlcmRhbmENCn0NCnNraW5wYXJhbSBPYmplY3Qgew0KICBCb3JkZXJDb2xvciAjMzNGRjMzDQp9DQpza2lucGFyYW0gUGFja2FnZSB7DQogIEJvcmRlckNvbG9yICMzM0ZGMzMNCiAgRm9udENvbG9yICMzM0ZGMzMNCiAgRm9udE5hbWUgVmVyZGFuYQ0KfQ0Kc2tpbnBhcmFtIFN0YXRlIHsNCiAgQmFja2dyb3VuZENvbG9yICMyODI4MjgNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFN0ZXJlb3R5cGVBIHsNCiAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFN0ZXJlb3R5cGVDIHsNCiAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFN0ZXJlb3R5cGVFIHsNCiAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFN0ZXJlb3R5cGVJIHsNCiAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFN0ZXJlb3R5cGVOIHsNCiAgQmFja2dyb3VuZENvbG9yICMzM0ZGMzMNCiAgQm9yZGVyQ29sb3IgIzMzRkYzMw0KfQ0Kc2tpbnBhcmFtIFVzZUNhc2VTdGVyZW9UeXBlIHsNCiAgRm9udENvbG9yICMzM0ZGMzMNCiAgRm9udE5hbWUgVmVyZGFuYQ0KfQ0KICAgIGhpZGUgZW1wdHkgZGVzY3JpcHRpb24NCiAgICBJRExFIDogR2VuZXJpYyBTeXN0ZW0gU3RhdGUNCiAgICBJRExFIDogKGV2ZXJ5dGhpbmcgcmV0dXJucyBoZXJlKQ0KICAgIEFDVElWQVRFOiBUdXJuIG9uIExFRCBhbmQgcmVsYXkNCiAgICBBQ1RJVkFURTogdG8gZW5lcmdpemUgZmFuDQogICAgREVURUNURUQ6IENvbmRpdGlvbiB0dXJuaW5nIG9uDQogICAgREVURUNURUQ6IGZhbiwgb3IgcmVzZXR0aW5nDQogICAgREVURUNURUQ6IGRlbGF5IHRpbWVyDQogICAgUkVTRVQ6IFR1cm4gZmFuIG9mZiwgYW5kDQogICAgUkVTRVQ6IHJlc3RvcmUgZGVmYXVsdCB0aW1lDQogICAgUkVTRVQ6IGNvdW50ZXIgdmFsdWVzDQoNCiAgICBbKl0gLSAtPiBJRExFIDogYm9vdHVwDQogICAgSURMRSAtIC0+IEFDVElWQVRFIDogVXNlciBtYW51YWxseSBcbmFjdGl2YXRlcyBmYW4NCiAgICBJRExFIC0+IERFVEVDVEVEIDogRnVsbHkgUXVhbGlmaWVkIE1vdGlvbiBcbiBTZW5zb3IgRGV0ZWN0aW9uDQogICAgREVURUNURUQgLSAtPiBBQ1RJVkFURSA6IEZhbiB3YXMgYWxyZWFkeSBydW5uaW5nLCBcbiBtYXhpbWl6ZSBydW5uaW5nIHRpbWUNCiAgICBERVRFQ1RFRCAtIC0+IElETEUgOiBTdGFydCBjb3VudGRvd24gdGltZXIgXG4gKGRlbGF5IGFmdGVyIGRldGVjdGluZyBhIGNhdCkNCiAgICBJRExFIC0gLT4gUkVTRVQgOiBGYW4gcnVudGltZSBlbGFwc2VzDQogICAgUkVTRVQgLSAtPiBJRExFDQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjIuOGJldGEyKFVua25vd24gY29tcGlsZSB0aW1lKQooR1BMIHNvdXJjZSBkaXN0cmlidXRpb24pCkphdmEgUnVudGltZTogSmF2YShUTSkgU0UgUnVudGltZSBFbnZpcm9ubWVudApKVk06IEphdmEgSG90U3BvdChUTSkgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg==" style="max-width:100%" width="100%" class="uml" alt="ScentAssist State Machine" title="ScentAssist State Machine" /&gt;&lt;/p&gt;
&lt;p&gt;So, that's all pretty simple, what &lt;em&gt;wasn't&lt;/em&gt; simple (or should I say &lt;em&gt;isn't&lt;/em&gt;, since I'm still working on it) was the motion-sensor qualification. I'm cheap, and a fan of
reusing old parts, so I pulled out an old 12VDC power supply from my "storage." It was originally from an RGB DJ light that I tore apart and hacked. Don't get me wrong,
the power supply is reasonable, enough, but it's not exactly... "clean." The output is a bit noisy. In fact, I've had trouble with these things before. I've used its
brethren before (that's right, I had like 8 of these things, at one point) and they &lt;em&gt;worked&lt;/em&gt;, but gave me trouble. So with all that noise, the motion sensor drives some
funny behavior on its output.&lt;/p&gt;
&lt;p&gt;I'm using little motion sensors like the one pictured below; they're simple enough, +/- voltage rails, and an output. The output provides a little less than a solid
digital signal, so I hooked it up to one of the analog inputs on the Arduino. No biggie. However, with all that noise from my friend the 12V supply, the output signal
becomes a bit...&lt;/p&gt;
&lt;p&gt;messy.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.amazon.com/gp/product/B096NZ4P3K/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;amp;psc=1"&gt;&lt;img alt="motion sensor" src="https://m.media-amazon.com/images/I/41AkdTj2yML._AC_SL1001_.jpg"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Still, it's not unreadable. I can pretty easily detect the step-change when visually inspecting the waveform, or watching the analog readouts from the Arduino, itself. Just
need to filter out all that garbage. Sure! Analog filtering is pretty easy. Right?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;...&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Right...?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It was easy when I was in college, and had just learned the stuff. But I haven't touched algorithms like IIR (Infinite Impulse Response) in about three years! So,
needless to say, I was a bit rusty. Still am... in fact. The filtering I built still isn't &lt;em&gt;quite&lt;/em&gt; where I want it, but I'm close. Should just be a few more tweaks, and
then I'll be able to call this project complete!&lt;/p&gt;
&lt;p&gt;When I do complete it, I'll be sure to bring some more thoughts to this article (below), but for now... enjoy the few project photos!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="Arduino"></category><category term="Electro-Mechanical"></category><category term="Smart-Home"></category><category term="Development"></category><category term="PlatformIO"></category><category term="Pets"></category><category term="Exhaust"></category></entry><entry><title>Home Automation... Condensed!</title><link href="https://engineerjoe440.github.io/stanley-solutions-blog/home-automation-condensed.html" rel="alternate"></link><published>2022-05-23T15:23:00-07:00</published><updated>2022-05-23T15:23:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:engineerjoe440.github.io,2022-05-23:/stanley-solutions-blog/home-automation-condensed.html</id><summary type="html">&lt;p&gt;Seems that, these days, there's an endless number of things that need to be automated for an "all-out" home-automation system. But how should we bring all of that stuff together? Well, I think I've got an idea...&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you may already know, I've been doing lots to automate my home. It's come to the point that my mother and other family members complain that they
can't do anything in my house without me. Well, that's left me with a bit of a conundrum. How can I make it so that people can use the home-automation
things, but not need any of the nuianced nonsense?&lt;/p&gt;
&lt;h2&gt;All of the Audio&lt;/h2&gt;
&lt;p&gt;I've been working to make the audio "network" in my home quite extensive. Between use of &lt;a href="https://vb-audio.com/Voicemeeter/vban.htm"&gt;VBAN&lt;/a&gt; for digital
audio streaming between my study and living room (&lt;a href="/networked-audio-using-vban-and-rpi"&gt;read more here&lt;/a&gt;), and analog connections from my study to
kitchen, lab, and (yes) even bathroom. Now, the challenge with all that is that it's still highly reliant on my desktop or cell phone as the main source
of audio. Additionally, whenever I have virtual meetings in my study, I need to shut everything down around the house. Not very much fun.&lt;/p&gt;
&lt;p&gt;I decided that I need a central control to allow easy Pianobar playback control, in addition to a "master mute" button that'll disable all audio streaming
around the house. Now... I'm still working on the actual "control box" which will have all of the buttons, but the operational pannel is already set up.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_3d778f5.jpeg" style="width: 100%" alt="Audio Output Blocks"&gt;&lt;/p&gt;
&lt;p&gt;Since my analog stream is in stereo, I - of course - need to have four sets of terminals to make wiring easy. That's what's shown in the above picture;
there's one for +R, -R, +L, and -L. Everything we need! They all connect to an input block by way of an ESP-8266 relay-breakout-board (shown in the upper-right
of the image below).&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_eec766f.jpeg" style="width: 100%" alt="Audio Connector Control"&gt;&lt;/p&gt;
&lt;p&gt;When I get this set up (completely) the little ESP board will listen for &lt;a href="https://mqtt.org/"&gt;MQTT&lt;/a&gt; commands from my home-automation server that will tell it
to open the normally-closed relay contacts and effectively shut down the whole analog audio network by disconnecting my study mixer from the rest of the
house.&lt;/p&gt;
&lt;h2&gt;Detecting Doorbell Use&lt;/h2&gt;
&lt;p&gt;In my house, the doorbell is a bit difficult to hear from anywhere other than the livingroom. I mean, it's possible to hear it from around the house, but not
always. When I'm in the kitchen, if I'm cooking (which is often what I'm doing when I'm waiting for the doorbell), I can't often hear the bell over my skillet!
So, I want to integrate the doorbell detection into some more intelligent operations and be able to send push notifications or even play audio chimes through
the centralized audio system. Shouldn't be difficult, but I need to interface with one of my little &lt;a href="https://www.embeddedts.com/products/TS-7500"&gt;Technologic TS7500&lt;/a&gt;
computers. Now... this computer has a 5VDC input. Not exactly ideal when the doorbell is running at about 16VAC.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_c71dcbc.jpeg" style="width: 100%" alt="Doorbell Conditioning Circuit"&gt;&lt;/p&gt;
&lt;p&gt;Thus, another part of my home-automation center was built up. I needed to consume the AC input, run it through a bridge rectifier (the grey square on the right),
apply a little filtering and smoothing with a "reasonably big" capacitor, and then shove that into a 12VDC relay.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;and why, Joe, didn't you just use an AC relay?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Erm... I don't really have a good answer for that other than the fact that I had all of these components on-hand, and it seemed like fun. Call me cheap for not
picking up a $4.00 relay. Go ahead! I won't argue. It is cheap. But, I already had a few things on-hand, and heck! Why not?!&lt;/p&gt;
&lt;p&gt;That relay is really only needed to use the doorbell signal to trigger the 5VDC signal to pass to the little Linux computer's input which then, in turn, can be
monitored and used for triggering all manner of things.&lt;/p&gt;
&lt;h2&gt;Leveraging Lights&lt;/h2&gt;
&lt;p&gt;Another feature that I want to add is making one of the lights in my entryway a three-way switched light. The purpose of which is reasonably self-explanatory,
but I want to bring intelligence to one of the light in my living room. The challenge is that the light is a traditional one, and it's already wired into the
wall (properly), and I'd rather have a true three-way-switch than the dumb little "hack" that I used for my dining room light (which will surely change someday).&lt;/p&gt;
&lt;p&gt;I've gone ahead and connected a nice, big, wiring block (shown in the upper-right of the image below) to allow for connections into the computer and the light
itself. This should make it nice and convenient, and make a true 3-way switch possible where the computer and the light switch will always be responsive to
control, and I won't have to wait for the dumb thing to boot up and initialize.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_a8b8778.jpeg" style="width: 100%" alt="Wiring Blocks for Lights"&gt;&lt;/p&gt;
&lt;p&gt;The Technologic computer, of course, has its own relay-break-out-board which also sandwiches nicely into its fancy little aluminum case (shown below), and that
is how I'm taking control of the light. Just like any other three-way-switch, I'm using the NO/NC contacts to wire opposite those of the three way switch I'll
mount in the wall, and then I'll be able to control the light, either from a physical switch, or from the computer. Either way, no problem!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_5caf4e9.jpeg" style="width: 100%" alt="Computer and all the Power Supplies"&gt;&lt;/p&gt;
&lt;p&gt;You might also notice that there's a couple of power supplies there. I've got a nice little "computer-style" power supply which provides 5V, and I've also got
a little board that I salvaged from some old (crappy) DJ dance lights that provides 12V.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;and what, Joe, is the 12V supply for?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I'm glad you asked!&lt;/p&gt;
&lt;h2&gt;Talking with the Telegraph&lt;/h2&gt;
&lt;p&gt;That's right... I'm nerdy enough that I want to connect to an old Telegraph key, and actually &lt;em&gt;do something&lt;/em&gt; with it. I'm wiring it in by my front entryway
for no other purpose than to excentuate my "nerdiness". I'm not even quite sure what the system will do, yet, but I'll come up with something cool. Maybe
listen for special "commands" and "do" respond with secret messages if you send the right code. Maybe just repeating messages back to the sender. Maybe
other things. Who knows! If you've got some fun ideas, drop a note in the comments below!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;Side Note:&lt;/span&gt;
&lt;span class="sd"&gt;----------&lt;/span&gt;

&lt;span class="sd"&gt;In case you weren&amp;#39;t aware (and since I still haven&amp;#39;t written a post about how I did it, you&amp;#39;re probably not aware)&lt;/span&gt;
&lt;span class="sd"&gt;the comment system embedded here in my blog is all hosted on an old computer in my basement (one of many), and is&lt;/span&gt;
&lt;span class="sd"&gt;completely managed by me! So no worry about some third party service discontinuing their product. I get to keep&lt;/span&gt;
&lt;span class="sd"&gt;hosting it as long as I want... Go ahead! Try it out! It even supports markdown...&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/home-automation-center/ima_fe0af05.jpeg" style="width: 100%" alt="The Wiring Blocks and Power Supplies"&gt;&lt;/p&gt;
&lt;h2&gt;Wrapping Up&lt;/h2&gt;
&lt;p&gt;It's fair to say that there's quite a bit more that I still need to do here. In fact, I've got a lot of wiring to do, still... But I'm excited that this
project which, notably, is recycling the "box" that I used for my first foray into some home autoation is coming along nicely. In fact, this box contained
the same computer and some of the same components to allow me to dabble in my first home-automation and Python web-serving application. There's still much
to be learned.&lt;/p&gt;
&lt;p&gt;The Linux computer is OLD, and will only (realistically) run Debian 5, which will make updates near impossible. That means that Python is going to be
constrained to Python 2 (if I'm lucky, maybe I can load from the DeadSnakes PPA - but I'm doubtful), and that pretty much blocks the use of MQTT. That said,
I still think I can pretty effectively set up the computer to host a little web-server to have REST-API endpoints, and I think I can even get it set up to
&lt;em&gt;make&lt;/em&gt; REST-API calls.&lt;/p&gt;
&lt;p&gt;I'm excited to see what fun will come of this! Stay tuned for more!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="linux"></category><category term="python"></category><category term="self-hosting"></category><category term="home-automation"></category><category term="iot"></category><category term="esp8266"></category></entry><entry><title>Bringing Light to the... Living Room?</title><link href="https://engineerjoe440.github.io/stanley-solutions-blog/bringing-light-to-the-living-room.html" rel="alternate"></link><published>2022-02-27T09:52:00-08:00</published><updated>2022-02-27T09:52:00-08:00</updated><author><name>Joe Stanley</name></author><id>tag:engineerjoe440.github.io,2022-02-27:/stanley-solutions-blog/bringing-light-to-the-living-room.html</id><summary type="html">&lt;p&gt;Shadow boxes deserve a shadow... right? Well, if there's a shadow, there has to be some light! That's what I've been working on; adding a little intelligent lighting to my shadow boxes! But, I've also been going crazy in the kitchen with some lights around the cabinets.&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been working on adding all sorts of smart lights around my home since I bought it, and the progress doesn't slow down!
I've pretty much covered all of the things that can be automated with little smart plugs. Everything from my scentsy's to my lamps, but now,
I need to automate some of the more... challenging things.&lt;/p&gt;
&lt;p&gt;I started a couple months ago with my coffee nook. I added a couple lights under the cabinet and hooked them up to a custom board, using an ESP-01S
to do my heavy lifting. I ran into a whole SLEW of issues with this. Drat! Everything from conflicting WiFi signals with my dual access points, to
blown out ESP modules, to faulty board designs. That's right, I incorrectly designed the board the first time around. &lt;em&gt;give me a dope-slap for that&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Turns out I'd left two pins on the ESP module floating (i.e., not connected to any power source or other electrical element), and they very much
needed to be connected to the Vcc node with a pull-up resistor. Should've looked more closely at those reference circuits the first time through.
Anyway, I've gotten that working now! Only took me two board-revs to get it done. Hah! We won't talk about the fact that the footprint of the board
as a whole isn't quite right... Another day...&lt;/p&gt;
&lt;p&gt;I really do need to share my learning from that project, don't I?&lt;/p&gt;
&lt;h4&gt;I digress...&lt;/h4&gt;
&lt;p&gt;So, yesterday I finally wrapped up the project of adding smart control to some new lights for the shadow-boxes in my living room. I use some old
wooden crates for shadow boxes. They go very well with the rest of my "old stuff" around the house, and now they have even more character!&lt;/p&gt;
&lt;p&gt;I picked up a set of &lt;a href="https://www.amazon.com/gp/product/B01LMSYUP4/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;amp;psc=1"&gt;under cabinet LED lights&lt;/a&gt;
from Amazon, and some &lt;a href="https://www.amazon.com/gp/product/B00FEOB4EI/ref=ppx_yo_dt_b_asin_title_o04_s00?ie=UTF8&amp;amp;psc=1"&gt;12V DC supplies&lt;/a&gt;, combining
those with my little generic board, I was able to make some nice little controls.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/shadow-box-lights/ima_906029b.jpeg" style="width: 100%" alt="Imagination in a Box!"&gt;&lt;/p&gt;
&lt;p&gt;I did struggle a bit with picking the right N-MOS transistor for controlling the LEDs. My go-to is a BUZ11A, which is normally good enough. It's
rugged, general-purpose, and packs a punch for current control ability. Trouble is, that with my boards, the voltages weren't quite right. I
discovered this late yesterday afternoon when powering up the little board and flipping the WiFi-enabled "on-switch", and the LEDs barely
illuminated enough to see a dim glow. Not ideal for a shadow box.&lt;/p&gt;
&lt;p&gt;I scratched my head for a bit, and realized that the transistor's voltage thresholds weren't where I wanted them. Luckily enough, I had some options!
I dug around in my hoarder-size-stash of electronics and found a set of logic-level transistors which were better suited for the job. Still being
N-MOS, they were exactly what I needed. A bit of solder-wick later, I had my new transistors replaced, and my lights were working like a charm!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/shadow-box-lights/ima_5049e25.jpeg" style="width: 100%" alt="Illuminating my Imagination"&gt;&lt;/p&gt;
&lt;p&gt;Now mind you, this isn't a story of all up-and-up success. This is the... third whack at the design. I started with some 4.5V supplies. Those were
ample for the control circuit, but not for the LEDs themselves (since they're rated for closer to 12V). I then thought I'd get clever and use a
boost converter to do my dirty work so I could leave the rest of the circuitry intact. Didn't I learn anywhere that it's tricky to use a boost
converter coming off a PWM-enabled circuit? Guess not.&lt;/p&gt;
&lt;p&gt;Needless to say, both of those "adventures" were a bit less than ideal; but we got there! Third time's the charm!&lt;/p&gt;
&lt;h4&gt;Don't forget the kitchen!&lt;/h4&gt;
&lt;p&gt;Ok... Ok... I've also been working on illuminating the kitchen. I &lt;em&gt;seriously&lt;/em&gt; need to sit down and tell you about what I've been doing with that
coffee nook light. Those are some "fun" stories.&lt;/p&gt;
&lt;p&gt;Anyway, I had tried my hand at flashing Tasmota on some off-the-shelf WiFi-enabled smart LED controls. That failed pretty miserably. But those
controls were cheap, and I wasn't impressed anyway. I spent some serious time Googling around, and stumbled upon &lt;a href="https://www.athom.tech/"&gt;ATHOM&lt;/a&gt;
which produces pre-flashed Tasmota/ESPHome/WLED-enabled boards in enclosures designed for makers and tinkerers like me! From browsing their
website, it's clear that English is not their first language, but I'm solidly impressed by their hardware. Simple, effective, and in clean packaging.
They worked great, right out of the box, and I didn't have to fight those dumb boards that don't already come with Tasmota flashed. MARVELOUS!&lt;/p&gt;
&lt;p&gt;So... I went crazy with installing these things all over my kitchen for above and below each of the cabinets... Just take a look!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/images/shadow-box-lights/ima_4ee1367.jpeg" style="width: 100%" alt="Illuminating my Imagination"&gt;&lt;/p&gt;
&lt;p&gt;That's basically the "orange" shade that Home-Assistant sets them with. But wow... when you come visit, remind me, and I'll show you the vibrance
of the blues, greens, and reds... it's stunning!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="ESP8266"></category><category term="Tasmota"></category><category term="Smart-Home"></category><category term="Home-Assistant"></category><category term="MQTT"></category><category term="IOT"></category><category term="Lighting"></category><category term="Lights"></category><category term="Development"></category></entry><entry><title>Creepy, Killer Vibes?</title><link href="https://engineerjoe440.github.io/stanley-solutions-blog/creepy-killer-vibes.html" rel="alternate"></link><published>2021-12-07T21:36:00-08:00</published><updated>2021-12-07T21:36:00-08:00</updated><author><name>Joe Stanley</name></author><id>tag:engineerjoe440.github.io,2021-12-07:/stanley-solutions-blog/creepy-killer-vibes.html</id><summary type="html">&lt;p&gt;My 115-year old house is getting a bit of a face lift. Well... Something like that.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ok... I'm way behind on articles, so I'm gonna try to get this one out fast.&lt;/p&gt;
&lt;p&gt;This is, or at least should be, one of many articles on the subject of my home-improvement endeavors. I know, it's bit of a tangent
from my normal tech-focused stuff, but it's still very much "me." After all, it's taking what's old, and giving it new life!&lt;/p&gt;
&lt;p&gt;I bought my home in Potlatch in 2020, and I'm very pleased to be working on renovating so many parts of the home. It's daunting, sure;
but it's exciting to see the ol' place come back together!&lt;/p&gt;
&lt;p&gt;Right now, the big project is renovating upstairs. Downstairs was largely renovated when I bought, so upstairs is next. I'm working on
removing the old lath-and-plaster and replacing it with proper drywall. Admittedly, it's a bit spooky looking, and that's largely what
this post is intended to be about... Showing the creepy "behind the scenes" looks...&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/20211115_004428524_iOS.png" style="width: 50%;"&gt;&lt;/p&gt;
&lt;h5&gt;Hey! Take a look there!&lt;/h5&gt;
&lt;p&gt;It's the stairwell and the old chimney brick for the old kitchen stove. I'm going to work on lighting that brick up and framing it out
so it'll still be visible after the remodel. After all, isn't it cool? From a bygone era!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/20211115_004436243_iOS.jpg" style="width: 50%;"&gt;&lt;/p&gt;
&lt;h5&gt;I've even got a helper!&lt;/h5&gt;
&lt;p&gt;Look very closely, you'll see a companion who &lt;em&gt;thinks&lt;/em&gt; he's helping. Let's not tell him, hmm?&lt;/p&gt;
&lt;p&gt;This is a look around the master bedroom, and a look through what will become the bedroom wall. As I write, there's now some Sheetrock
hung here, but there's more to be done!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/20211115_004449997_iOS.jpg" style="width: 100%;"&gt;&lt;/p&gt;
&lt;p&gt;Lastly, here's a look at the closet, and back out into the hallway upstairs. This helps tie a few of the previous pictures together.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://engineerjoe440.github.io/stanley-solutions-blog/20211115_004454965_iOS.jpg" style="width: 50%;"&gt;&lt;/p&gt;
&lt;p&gt;Hopefully I'll keep on it, and provide some more updates as more transpires!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="Home-Renovation"></category><category term="Improvement"></category><category term="Renovation"></category><category term="Restoration"></category></entry></feed>