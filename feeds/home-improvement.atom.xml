<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Stanley Solutions Blog - Home-Improvement</title><link href="https://blog.stanleysolutionsnw.com/" rel="alternate"></link><link href="https://blog.stanleysolutionsnw.com/feeds/home-improvement.atom.xml" rel="self"></link><id>https://blog.stanleysolutionsnw.com/</id><updated>2023-11-01T10:00:00-07:00</updated><subtitle>engineering and creativity - all under one hat</subtitle><entry><title>Custom Lightning on Demand</title><link href="https://blog.stanleysolutionsnw.com/custom-lightning-on-demand.html" rel="alternate"></link><published>2023-11-01T10:00:00-07:00</published><updated>2023-11-01T10:00:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2023-11-01:/custom-lightning-on-demand.html</id><summary type="html">&lt;p&gt;Clearly I haven't written in a while. I've been busy with all manner of projects, of late. However, since this will be mostly video and image posting, I thought it couldn't hurt to get a quick article up.&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/IMG_2605.png" style="width: 40%; margin: 10px;" alt="Stanley on Spruce" align="right"&gt;&lt;/p&gt;
&lt;p&gt;And yet another halloween has come...&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;...and gone&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ah, but 'twas spooky!&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This year, I added a new Shelly control to be able to support Home-Assistant based control of my front porch lights. Notably, it's really only the ability to turn them on or off, not changing any of the special effects settings. If you want to see what that's all about, go &lt;a href="https://blog.stanleysolutionsnw.com/spooky-scary-porch-projects.html"&gt;check out my article from last year&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/IMG_2596.png" style="width: 20%; margin: 10px;" alt="Shelly Control" align="left"&gt;&lt;/p&gt;
&lt;p&gt;Always fun, and now I think there's a few new tricks that I want to add to my bag.... Hmm... gonna have to start working on those soon.&lt;/p&gt;
&lt;video id="halloween-effects-2023" class="video-js vjs-default-skin" controls
preload="auto" width="683" height="384"
data-setup="{}"&gt;
&lt;source src="https://immich.stanleysolutionsnw.com/share/xOGoWucj4ULglfDzCsxYS0jv3wEnt9eu6u20WGUMygZWhxxbxK_FtA2DPNyCc3dezWU/photos/fd65dbb4-9305-417e-81cd-a93c7f05dbfd" type='video/mp4'&gt;
&lt;/video&gt;

&lt;video id="halloween-effects-2023" class="video-js vjs-default-skin" controls
preload="auto" width="683" height="384"
data-setup="{}"&gt;
&lt;source src="https://immich.stanleysolutionsnw.com/share/xOGoWucj4ULglfDzCsxYS0jv3wEnt9eu6u20WGUMygZWhxxbxK_FtA2DPNyCc3dezWU/photos/977604b5-4294-44d6-a2c9-5a41e6eae7e5" type='video/mp4'&gt;
&lt;/video&gt;

&lt;hr&gt;
&lt;iframe src='https://immich.stanleysolutionsnw.com/share/xOGoWucj4ULglfDzCsxYS0jv3wEnt9eu6u20WGUMygZWhxxbxK_FtA2DPNyCc3dezWU?at=977604b5-4294-44d6-a2c9-5a41e6eae7e5'
width='100%' height='600px' frameborder='0'&gt;
&lt;/iframe&gt;</content><category term="Home-Improvement"></category><category term="effects"></category><category term="lighting"></category><category term="lightning"></category><category term="lights-alive"></category><category term="halloween"></category><category term="audio"></category><category term="home-automation"></category><category term="shelly"></category><category term="home-assistant"></category><category term="hassio"></category></entry><entry><title>Adding Radon Sensors to Home Assistant</title><link href="https://blog.stanleysolutionsnw.com/adding-radon-sensors-to-homeassistant.html" rel="alternate"></link><published>2022-12-24T10:40:00-08:00</published><updated>2022-12-24T10:40:00-08:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-12-24:/adding-radon-sensors-to-homeassistant.html</id><summary type="html">&lt;p&gt;Radon - an colorless, oderless gas. Sounds familiar, right? But you've probably heard that phrase in relation to other gasses like the carbon-monoxide, or perhaps natural gas. Radon poses health threats, as well, but with the added benefit of radiation. Scared yet? Don't worry.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;What is Radon, Anyway?&lt;/h2&gt;
&lt;p&gt;The &lt;a href="https://www.cdc.gov/nceh/features/protect-home-radon/index.html"&gt;CDC&lt;/a&gt; explains that Radon is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;" ...the second leading cause of lung cancer after cigarette smoking. If you smoke and live in a home with high radon levels, you increase your risk of developing lung cancer. Having your home tested is the only effective way to determine whether you and your family are at risk of high radon exposure.&lt;/p&gt;
&lt;p&gt;Radon is a radioactive gas that forms naturally when uranium, thorium, or radium, which are radioactive metals break down in rocks, soil and groundwater. People can be exposed to radon primarily from breathing radon in air that comes through cracks and gaps in buildings and homes. Because radon comes naturally from the earth, people are always exposed to it. "&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Luckily for me, I don't smoke. So some of that problem is a non-starter. Buuuut... Have you
seen &lt;a href="https://blog.stanleysolutionsnw.com/more-servers-in-the-basement.html"&gt;my basement&lt;/a&gt;?
Yeah... that's where this all comes from. And the photos in that post don't even capture the
wet season.&lt;/p&gt;
&lt;p&gt;Hah!&lt;/p&gt;
&lt;h2&gt;What can be done?&lt;/h2&gt;
&lt;p&gt;The &lt;a href="https://www.cdc.gov/nceh/features/protect-home-radon/index.html"&gt;CDC&lt;/a&gt; goes into some detail about some options which exist to support annual tests for
Radon, but there's also technology that can help; and, have you met me? Of course I want to use
the technology! That's the fun part.&lt;/p&gt;
&lt;p&gt;Airthings is a pretty neat company. They offer a digital air-quality and Radon sensing solution,
and they even make their technology accessible &lt;em&gt;without&lt;/em&gt; needing the cloud! For self-hosters like
me, that's pretty exciting. You can read more about
&lt;a href="https://www.airthings.com/resources/radon-detection"&gt;what thoughts Airthings share regarding Radon detection methods on their website&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;The Sensor&lt;/h2&gt;
&lt;p&gt;Airthings' Wave Plus sensor is just what I needed. I picked one up last year from Amazon, but
you can see from &lt;a href="https://shop.airthings.com/US_EN/wave-plus.html"&gt;Airthings' store&lt;/a&gt; that these
things are a bit on the spendy side. Still not bad.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://shop.airthings.com/media/catalog/product/cache/2634002fa3d4cd41f308759bc7b7f687/a/i/airthings-wave-plus-hero-image-for-e-commerce-front.jpg" style="width: 40%; margin: 10px;" alt="Airthings Wave Plus" align="left"&gt;&lt;/p&gt;
&lt;p&gt;This little gadget supports Bluetooth Low Energy (BLE), and therefore, doesn't really need
internet access. In fact, Airthings seems to know their audience, since they support some Python
scripts in &lt;a href="https://github.com/Airthings/waveplus-reader"&gt;their GitHub repository&lt;/a&gt;. Their
documentation for using the scripts is nice and simple, too. Pretty straight-forward to get
up-and-running if you've got Python 2.&lt;/p&gt;
&lt;p&gt;That's right. I said &lt;em&gt;Python 2&lt;/em&gt;. Unfortunately, although there's a
&lt;a href="https://github.com/Airthings/waveplus-reader/pull/8"&gt;pull request&lt;/a&gt; open to add Python 3 support,
it hasn't been resolved yet.&lt;/p&gt;
&lt;p&gt;No matter!&lt;/p&gt;
&lt;p&gt;I've taken the liberty of snagging the updated Python 3 content where that PR originates from, and
it certainly "checks out."&lt;/p&gt;
&lt;h2&gt;Incorporating Into Home Assistant&lt;/h2&gt;
&lt;p&gt;To go over the background, quickly:&lt;/p&gt;
&lt;p&gt;My Home Assistant is being served from a Docker container on an old Compaq computer.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/2022-12-24_11-46.png" style="width: 60%; margin: 10px;" alt="My Old Compaq Computer" align="right"&gt;&lt;/p&gt;
&lt;p&gt;It's a 32-bit monster running Debian 11. Slow as heck, but it plugs along alright. I recently
rebuilt the OS from the ground up to take advantage of a second hard-drive in the machine which,
frankly, I'd forgotten about until recently. That's meant that I can shove the whole config back
into a single repository in my GitLab server. Quite nice, if you ask me.&lt;/p&gt;
&lt;p&gt;I digress.&lt;/p&gt;
&lt;p&gt;The server is WAY too old to support Bluetooth in its existing hardware. But that's what USB is for, right? So I hooked up a little USB dongle which provides BLE support. Now, I just needed to pass it all through to Home Assistant.&lt;/p&gt;
&lt;p&gt;I'll go through the steps I took, next, but I want to tell you; this isn't &lt;em&gt;exactly&lt;/em&gt; the order
that I used initially. Would you expect me to have been that smart? To have put it together
correctly on the first pass?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;As if!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Installing the System Requirements&lt;/h3&gt;
&lt;p&gt;So, really, the only package that I &lt;em&gt;needed&lt;/em&gt; was &lt;code&gt;bluez&lt;/code&gt;, but for some of the Airthings scripts,
there were a few others, so I'll list them all here...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;apt-get&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;bluez&lt;span class="w"&gt; &lt;/span&gt;libglib2.0-dev&lt;span class="w"&gt; &lt;/span&gt;-y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;To get the Airthings scripts running, I also needed a few Python packages. They were installed
with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;python3&lt;span class="w"&gt; &lt;/span&gt;-m&lt;span class="w"&gt; &lt;/span&gt;pip&lt;span class="w"&gt; &lt;/span&gt;install&lt;span class="w"&gt; &lt;/span&gt;bluepy&lt;span class="w"&gt; &lt;/span&gt;tableprint
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Again... not entirely necessary, but could be useful if you're like me, and like debugging.&lt;/p&gt;
&lt;h3&gt;Preparing the System&lt;/h3&gt;
&lt;p&gt;With &lt;code&gt;bluez&lt;/code&gt; installed, I could now turn on the Bluetooth system. I'm not entirely sure whether
this is necessary for Home Assistant's purposes, but it's useful from the Airthings script
point-of-view.&lt;/p&gt;
&lt;h5&gt;Turn on Bluetooth!&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;joestan@hasio:~$&lt;span class="w"&gt; &lt;/span&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;bluetoothctl
&lt;span class="o"&gt;[&lt;/span&gt;bluetooth&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# power on&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;bluetooth&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c1"&gt;# quit&lt;/span&gt;
joestan@hasio:~$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;Set Bluetooth Dongle to Specific Device Alias&lt;/h5&gt;
&lt;p&gt;Again, not totally sure if this was necesssary, but even if it wasn't, I like the outcome of
having a specifically named USB device show up. Makes things nice!&lt;/p&gt;
&lt;p&gt;Listing my USB devices with &lt;code&gt;lsusb&lt;/code&gt;, I was able to determine the appropriate device:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;joestan@hasio:~$&lt;span class="w"&gt; &lt;/span&gt;lsusb
Bus&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Device&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;002&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;ID&lt;span class="w"&gt; &lt;/span&gt;1a40:0101&lt;span class="w"&gt; &lt;/span&gt;Terminus&lt;span class="w"&gt; &lt;/span&gt;Technology&lt;span class="w"&gt; &lt;/span&gt;Inc.&lt;span class="w"&gt; &lt;/span&gt;Hub
Bus&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Device&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;ID&lt;span class="w"&gt; &lt;/span&gt;1d6b:0002&lt;span class="w"&gt; &lt;/span&gt;Linux&lt;span class="w"&gt; &lt;/span&gt;Foundation&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;.0&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;hub
Bus&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;003&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Device&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;002&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;ID&lt;span class="w"&gt; &lt;/span&gt;0a5c:21e8&lt;span class="w"&gt; &lt;/span&gt;Broadcom&lt;span class="w"&gt; &lt;/span&gt;Corp.&lt;span class="w"&gt; &lt;/span&gt;BCM20702A0&lt;span class="w"&gt; &lt;/span&gt;Bluetooth&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;.0
Bus&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;003&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Device&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;ID&lt;span class="w"&gt; &lt;/span&gt;1d6b:0001&lt;span class="w"&gt; &lt;/span&gt;Linux&lt;span class="w"&gt; &lt;/span&gt;Foundation&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.1&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;hub
Bus&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;002&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Device&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;001&lt;/span&gt;:&lt;span class="w"&gt; &lt;/span&gt;ID&lt;span class="w"&gt; &lt;/span&gt;1d6b:0001&lt;span class="w"&gt; &lt;/span&gt;Linux&lt;span class="w"&gt; &lt;/span&gt;Foundation&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;.1&lt;span class="w"&gt; &lt;/span&gt;root&lt;span class="w"&gt; &lt;/span&gt;hub
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;I needed to edit my udev-rules and add a custom alias.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo&lt;span class="w"&gt; &lt;/span&gt;nano&lt;span class="w"&gt; &lt;/span&gt;/etc/udev/rules.d/99-my_rules.rules
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And then, since it's pretty clear that Bus 3 Device 2 is the one I'm looking for, I could update
my udev file accordingly:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ACTION==&amp;quot;add&amp;quot;, ATTRS{idVendor}==&amp;quot;0a5c&amp;quot;, ATTRS{idProduct}==&amp;quot;21e8&amp;quot;, SYMLINK+=&amp;quot;btooth&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, after a restart, I've got that device listed properly when I &lt;code&gt;ls /dev&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;joestan@hasio:~$&lt;span class="w"&gt; &lt;/span&gt;ls&lt;span class="w"&gt; &lt;/span&gt;/dev
agpgart&lt;span class="w"&gt;          &lt;/span&gt;mqueue&lt;span class="w"&gt;    &lt;/span&gt;stderr&lt;span class="w"&gt;  &lt;/span&gt;tty29&lt;span class="w"&gt;  &lt;/span&gt;tty52&lt;span class="w"&gt;    &lt;/span&gt;vcs3
autofs&lt;span class="w"&gt;           &lt;/span&gt;net&lt;span class="w"&gt;       &lt;/span&gt;stdin&lt;span class="w"&gt;   &lt;/span&gt;tty3&lt;span class="w"&gt;   &lt;/span&gt;tty53&lt;span class="w"&gt;    &lt;/span&gt;vcs4
block&lt;span class="w"&gt;            &lt;/span&gt;null&lt;span class="w"&gt;      &lt;/span&gt;stdout&lt;span class="w"&gt;  &lt;/span&gt;tty30&lt;span class="w"&gt;  &lt;/span&gt;tty54&lt;span class="w"&gt;    &lt;/span&gt;vcs5
bsg&lt;span class="w"&gt;              &lt;/span&gt;nvram&lt;span class="w"&gt;     &lt;/span&gt;tty&lt;span class="w"&gt;     &lt;/span&gt;tty31&lt;span class="w"&gt;  &lt;/span&gt;tty55&lt;span class="w"&gt;    &lt;/span&gt;vcs6
btooth&lt;span class="w"&gt;           &lt;/span&gt;parport0&lt;span class="w"&gt;  &lt;/span&gt;tty0&lt;span class="w"&gt;    &lt;/span&gt;tty32&lt;span class="w"&gt;  &lt;/span&gt;tty56&lt;span class="w"&gt;    &lt;/span&gt;vcsa&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;#&amp;lt;--- Look!&lt;/span&gt;
btrfs-control&lt;span class="w"&gt;    &lt;/span&gt;port&lt;span class="w"&gt;      &lt;/span&gt;tty1&lt;span class="w"&gt;    &lt;/span&gt;tty33&lt;span class="w"&gt;  &lt;/span&gt;tty57&lt;span class="w"&gt;    &lt;/span&gt;vcsa1
bus&lt;span class="w"&gt;              &lt;/span&gt;ppp&lt;span class="w"&gt;       &lt;/span&gt;tty10&lt;span class="w"&gt;   &lt;/span&gt;tty34&lt;span class="w"&gt;  &lt;/span&gt;tty58&lt;span class="w"&gt;    &lt;/span&gt;vcsa2
char&lt;span class="w"&gt;             &lt;/span&gt;psaux&lt;span class="w"&gt;     &lt;/span&gt;tty11&lt;span class="w"&gt;   &lt;/span&gt;tty35&lt;span class="w"&gt;  &lt;/span&gt;tty59&lt;span class="w"&gt;    &lt;/span&gt;vcsa3
console&lt;span class="w"&gt;          &lt;/span&gt;ptmx&lt;span class="w"&gt;      &lt;/span&gt;tty12&lt;span class="w"&gt;   &lt;/span&gt;tty36&lt;span class="w"&gt;  &lt;/span&gt;tty6&lt;span class="w"&gt;     &lt;/span&gt;vcsa4
core&lt;span class="w"&gt;             &lt;/span&gt;pts&lt;span class="w"&gt;       &lt;/span&gt;tty13&lt;span class="w"&gt;   &lt;/span&gt;tty37&lt;span class="w"&gt;  &lt;/span&gt;tty60&lt;span class="w"&gt;    &lt;/span&gt;vcsa5
cpu_dma_latency&lt;span class="w"&gt;  &lt;/span&gt;random&lt;span class="w"&gt;    &lt;/span&gt;tty14&lt;span class="w"&gt;   &lt;/span&gt;tty38&lt;span class="w"&gt;  &lt;/span&gt;tty61&lt;span class="w"&gt;    &lt;/span&gt;vcsa6
cuse&lt;span class="w"&gt;             &lt;/span&gt;rfkill&lt;span class="w"&gt;    &lt;/span&gt;tty15&lt;span class="w"&gt;   &lt;/span&gt;tty39&lt;span class="w"&gt;  &lt;/span&gt;tty62&lt;span class="w"&gt;    &lt;/span&gt;vcsu
disk&lt;span class="w"&gt;             &lt;/span&gt;rtc&lt;span class="w"&gt;       &lt;/span&gt;tty16&lt;span class="w"&gt;   &lt;/span&gt;tty4&lt;span class="w"&gt;   &lt;/span&gt;tty63&lt;span class="w"&gt;    &lt;/span&gt;vcsu1
fd&lt;span class="w"&gt;               &lt;/span&gt;rtc0&lt;span class="w"&gt;      &lt;/span&gt;tty17&lt;span class="w"&gt;   &lt;/span&gt;tty40&lt;span class="w"&gt;  &lt;/span&gt;tty7&lt;span class="w"&gt;     &lt;/span&gt;vcsu2
full&lt;span class="w"&gt;             &lt;/span&gt;sda&lt;span class="w"&gt;       &lt;/span&gt;tty18&lt;span class="w"&gt;   &lt;/span&gt;tty41&lt;span class="w"&gt;  &lt;/span&gt;tty8&lt;span class="w"&gt;     &lt;/span&gt;vcsu3
fuse&lt;span class="w"&gt;             &lt;/span&gt;sda1&lt;span class="w"&gt;      &lt;/span&gt;tty19&lt;span class="w"&gt;   &lt;/span&gt;tty42&lt;span class="w"&gt;  &lt;/span&gt;tty9&lt;span class="w"&gt;     &lt;/span&gt;vcsu4
hpet&lt;span class="w"&gt;             &lt;/span&gt;sda2&lt;span class="w"&gt;      &lt;/span&gt;tty2&lt;span class="w"&gt;    &lt;/span&gt;tty43&lt;span class="w"&gt;  &lt;/span&gt;ttyS0&lt;span class="w"&gt;    &lt;/span&gt;vcsu5
hugepages&lt;span class="w"&gt;        &lt;/span&gt;sdb&lt;span class="w"&gt;       &lt;/span&gt;tty20&lt;span class="w"&gt;   &lt;/span&gt;tty44&lt;span class="w"&gt;  &lt;/span&gt;ttyS1&lt;span class="w"&gt;    &lt;/span&gt;vcsu6
hwrng&lt;span class="w"&gt;            &lt;/span&gt;sdb1&lt;span class="w"&gt;      &lt;/span&gt;tty21&lt;span class="w"&gt;   &lt;/span&gt;tty45&lt;span class="w"&gt;  &lt;/span&gt;ttyS2&lt;span class="w"&gt;    &lt;/span&gt;vfio
initctl&lt;span class="w"&gt;          &lt;/span&gt;sdb2&lt;span class="w"&gt;      &lt;/span&gt;tty22&lt;span class="w"&gt;   &lt;/span&gt;tty46&lt;span class="w"&gt;  &lt;/span&gt;ttyS3&lt;span class="w"&gt;    &lt;/span&gt;vga_arbiter
input&lt;span class="w"&gt;            &lt;/span&gt;sdb3&lt;span class="w"&gt;      &lt;/span&gt;tty23&lt;span class="w"&gt;   &lt;/span&gt;tty47&lt;span class="w"&gt;  &lt;/span&gt;uhid&lt;span class="w"&gt;     &lt;/span&gt;vhci
kmsg&lt;span class="w"&gt;             &lt;/span&gt;sg0&lt;span class="w"&gt;       &lt;/span&gt;tty24&lt;span class="w"&gt;   &lt;/span&gt;tty48&lt;span class="w"&gt;  &lt;/span&gt;uinput&lt;span class="w"&gt;   &lt;/span&gt;vhost-net
log&lt;span class="w"&gt;              &lt;/span&gt;sg1&lt;span class="w"&gt;       &lt;/span&gt;tty25&lt;span class="w"&gt;   &lt;/span&gt;tty49&lt;span class="w"&gt;  &lt;/span&gt;urandom&lt;span class="w"&gt;  &lt;/span&gt;vhost-vsock
loop-control&lt;span class="w"&gt;     &lt;/span&gt;shm&lt;span class="w"&gt;       &lt;/span&gt;tty26&lt;span class="w"&gt;   &lt;/span&gt;tty5&lt;span class="w"&gt;   &lt;/span&gt;vcs&lt;span class="w"&gt;      &lt;/span&gt;watchdog
mapper&lt;span class="w"&gt;           &lt;/span&gt;snapshot&lt;span class="w"&gt;  &lt;/span&gt;tty27&lt;span class="w"&gt;   &lt;/span&gt;tty50&lt;span class="w"&gt;  &lt;/span&gt;vcs1&lt;span class="w"&gt;     &lt;/span&gt;watchdog0
mem&lt;span class="w"&gt;              &lt;/span&gt;snd&lt;span class="w"&gt;       &lt;/span&gt;tty28&lt;span class="w"&gt;   &lt;/span&gt;tty51&lt;span class="w"&gt;  &lt;/span&gt;vcs2&lt;span class="w"&gt;     &lt;/span&gt;zero
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;Update Docker Container Command&lt;/h5&gt;
&lt;p&gt;I'm lazy.&lt;/p&gt;
&lt;p&gt;Although I haven't converted this machine to use &lt;code&gt;docker-compose&lt;/code&gt;, I use a shell script to do
the heavy lifting for me, and get the latest container, update and redeploy it. So, when it came
time to update the command and make sure that I pass the Bluetooth device and &lt;code&gt;dbus&lt;/code&gt; into the
container, it was pretty simple, just needed to add the arguments to the command...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Start HassIO&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;Starting&lt;span class="w"&gt; &lt;/span&gt;Hasio
sudo&lt;span class="w"&gt; &lt;/span&gt;docker&lt;span class="w"&gt; &lt;/span&gt;run&lt;span class="w"&gt; &lt;/span&gt;-d&lt;span class="w"&gt; &lt;/span&gt;--name&lt;span class="w"&gt; &lt;/span&gt;homeassistant&lt;span class="w"&gt; &lt;/span&gt;--restart&lt;span class="o"&gt;=&lt;/span&gt;unless-stopped&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;/home/joestan/stanleyassistant/homeassistant:/config&lt;span class="w"&gt; &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;/etc/localtime:/etc/localtime:ro&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;-v&lt;span class="w"&gt; &lt;/span&gt;/run/dbus:/run/dbus:ro&lt;span class="w"&gt; &lt;/span&gt;--privileged&lt;span class="w"&gt; &lt;/span&gt;--network&lt;span class="o"&gt;=&lt;/span&gt;host&lt;span class="w"&gt; &lt;/span&gt;--device&lt;span class="w"&gt; &lt;/span&gt;/dev/btooth&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="se"&gt;\&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;ghcr.io/home-assistant/home-assistant:stable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Notice on the second line from the bottom, I'm using the following commands:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-v /run/dbus:/run/dbus:ro&lt;/code&gt;: This maps the &lt;code&gt;dbus&lt;/code&gt; volume into the container appropriately.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--device /dev/btooth&lt;/code&gt;: For good measure, this maps the Bluetooth device into the container.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Those were really the only additions that were needed. Then it was just a matter of restarting
the container with the new arguments, and adding the config of the device in the HA Web-UI.&lt;/p&gt;
&lt;h2&gt;Closing Thoughts&lt;/h2&gt;
&lt;p&gt;Well, I think I learned a few things with this experience. Nothing terrible, or drastic. Just
some good points and things to remember. Kind of a nice accomplishment on a Christmas Eve, if you
ask me!&lt;/p&gt;
&lt;p&gt;I love the tight integrations that can be offered with Home Assistant, and I'm really pleased with
my Airthings Wave Plus sensor. I love the fact that I can use it in my local system and start
monitoring for "bad gas."&lt;/p&gt;
&lt;p&gt;Let me know if you have any thoughts or other experiences!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="homeassistant"></category><category term="home-assistant"></category><category term="hasio"></category><category term="airthings"></category><category term="ble"></category><category term="bluetooth"></category><category term="wireless"></category><category term="radon"></category><category term="air"></category><category term="quality"></category></entry><entry><title>Spooky Scary Porch Projects</title><link href="https://blog.stanleysolutionsnw.com/spooky-scary-porch-projects.html" rel="alternate"></link><published>2022-11-01T18:41:00-07:00</published><updated>2022-11-01T18:41:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-11-01:/spooky-scary-porch-projects.html</id><summary type="html">&lt;p&gt;It's been a crazy month, but isn't that how Halloween is supposed to be, anyway? Crazy? Well, maybe not like this. Let me explain...&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been slowly plugging away at some projects around the house.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;emphasis on &lt;em&gt;slowly&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, earlier this fall, I picked up a whole bunch of cedar boards to replace the nasty old porch ceiling that I have. If you wanted to see more of what the old
ceiling looked like, go look at my &lt;a href="./mt-st-helens-adventures"&gt;article discussing the St Helens aftermath...&lt;/a&gt; All of that led up to a &lt;strong&gt;&lt;em&gt;BUSY&lt;/em&gt;&lt;/strong&gt; weekend putting
the front porch together...&lt;/p&gt;
&lt;h5&gt;See?&lt;/h5&gt;
&lt;p&gt;&lt;img src="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa/download?path=&amp;files=22-10-29%2018-22-14%201717.jpg" style="width: 100%" alt="Cedar Going Up"&gt;&lt;/p&gt;
&lt;p&gt;But since I was doing all of this work, I wanted to have some cool new lights put in, and I wanted to add some special effects, too; and that required some custom
wiring.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa/download?path=&amp;files=22-10-29%2011-22-25%201711.jpg" style="width: 100%" alt="Control Box"&gt;&lt;/p&gt;
&lt;p&gt;Lastly, I've got to call out the wonderful little box that does so much of the heavy lifting for me... the FireFly Lightning simulator by
&lt;a href="https://lightsalive.com"&gt;Lights Alive&lt;/a&gt;. I love this little thing, it's so much fun!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa/download?path=&amp;files=22-10-31%2020-32-13%201735.jpg" style="width: 100%" alt="FireFly by Lights Alive"&gt;&lt;/p&gt;
&lt;p&gt;All of the controls are now accessible right next to the front door, which is &lt;em&gt;wonderful!&lt;/em&gt; I'm not going to go into too much detail here. Feel free to leave a
comment if you'd like to know more, but I'll leave you with the video of all the special effects!&lt;/p&gt;
&lt;video id="halloween-effects-2022" class="video-js vjs-default-skin" controls
preload="auto" width="683" height="384" poster="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa/download?path=&amp;files=22-10-31%2019-00-12%201733.jpg"
data-setup="{}"&gt;
&lt;source src="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa/download?path=&amp;files=22-10-31%2018-57-40%201730.mov" type='video/mp4'&gt;
&lt;/video&gt;

&lt;hr&gt;
&lt;p&gt;&lt;a href="https://nextcloud.stanleysolutionsnw.com/s/EAMNwBRgTm4zERa"&gt;Here's a full set of pictures, go check them out!&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;UPDATE:&lt;/h2&gt;
&lt;p&gt;A colleague shared this, and I thought it was too funny not to share...&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/2022-11-01_16-03-09.png" style="width: 100%" alt="A Good Laugh about a Lingering Problem..."&gt;&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="effects"></category><category term="lighting"></category><category term="lights-alive"></category><category term="halloween"></category><category term="audio"></category><category term="home-automation"></category></entry><entry><title>Mount St. Helens Adventures</title><link href="https://blog.stanleysolutionsnw.com/mt-st-helens-adventures.html" rel="alternate"></link><published>2022-09-06T19:43:00-07:00</published><updated>2022-09-06T19:43:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-09-06:/mt-st-helens-adventures.html</id><summary type="html">&lt;p&gt;Ok, so I clearly wasn't alive when Mount St. Helens blew its lid in May of 1980; but that doesn't mean that I haven't had some adventures of my own with the eruption's aftermath! I spent this Labor Day with my mother, working on some improvements to the front porch celing; prepping it for some new tongue-and-groove Cedar boards, new lights, and even speakers. But before any of the new... we need to get rid of the old...&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Before&lt;/h2&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_46ba6d7.jpeg" style="width: 30%; margin: 10px;" alt="ye olde celing" align="right"&gt;&lt;/p&gt;
&lt;p&gt;Well... before I could put up any new tongue-and-groove Cedar, I needed some help getting rid of the old lumber. I couldn't have done it without the
help of my mother, either!!!&lt;/p&gt;
&lt;p&gt;As much as she might've liked to have just put the Cedar boards right over what was already there, there was just &lt;em&gt;too much junk&lt;/em&gt; up there. In the
photo above, you can see the painted particle-board that was the celing previously, and you can see just how... &lt;em&gt;elegant&lt;/em&gt; it was.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Lovely.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, I recently was able to anchor a great deal on these Cedar boards (again, thank you to my mother). Trouble is, I didn't want to just put them over the
&lt;em&gt;junk&lt;/em&gt; that was already there. So... we got to pulling those old boards down...&lt;/p&gt;
&lt;h2&gt;During&lt;/h2&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_2c5d0b8.jpeg" style="width: 30%; margin: 10px;" alt="under the surface lies... more mess!"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What's that, under there?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;To quote the old Barnaked Ladies song: &lt;em&gt;"I just made you say underwear."&lt;/em&gt; Well under that gross particle board is some old (and quite rough) tongue-and-groove
lumber of an unknown age. It's in pretty rough shape, rotten, dry, and falling apart in a number of places.&lt;/p&gt;
&lt;p&gt;Those old boards were quite "fun" to pull, and they led to quite the disaster... Let me introduce you to my history lesson for the weekend.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_2b4ed17.jpeg" style="width: 30%; margin: 10px;" alt="what's all that black stuff?" align="right"&gt;&lt;/p&gt;
&lt;p&gt;Oh yes... see all that black powder, covering everything you see? It was covering us, too. You do not want to picture the color of my bathwater... let me just
say that.&lt;/p&gt;
&lt;p&gt;My mother and I were both a bit stumped by what the powder was, and why it was black... Well, after a bit of brainstorming, and chatting with some other folks
who have also renovated some of these older homes in Potlatch, we came upon the most likely answer: Mount St. Helens!&lt;/p&gt;
&lt;p&gt;Yep, that's right. We think all that black stuff is ash, just not from the home's chimney, from the biggest chimney the western United States has seen in the last
half-century. (Weird to think that 1980 is that far back, isn't it?) From our own homegrown-research, this seems to be the most likely origin of that ash-dust.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Still... &lt;strong&gt;Woah.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;After&lt;/h2&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_b58184b.jpeg" style="width: 30%; margin: 10px;" alt="clean, but not too clean" align="right"&gt;&lt;/p&gt;
&lt;p&gt;Now with all that nastiness cleaned out, we were able to get the whole porch cleaned up, ready for me to run my new wiring for lights, speakers, and special
effects (more on that later). Now... I just need to get all of that done.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Want to see more Potlatch history?&lt;/h2&gt;
&lt;p&gt;Go check out &lt;a href="https://kitstokes.github.io/potlatch-portal/"&gt;this great initiative!&lt;/a&gt;&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="home-improvement"></category><category term="home-projects"></category><category term="home-renovation"></category><category term="improvement"></category><category term="renovation"></category><category term="restoration"></category></entry><entry><title>Making Feline Stink a Distant Memory</title><link href="https://blog.stanleysolutionsnw.com/making-feline-stink-a-distant-memory.html" rel="alternate"></link><published>2022-08-04T15:52:00-07:00</published><updated>2022-08-04T15:52:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-08-04:/making-feline-stink-a-distant-memory.html</id><summary type="html">&lt;p&gt;We all love our pets, but nobody likes cleaning up after them when they "do their business," right? Well, I'm in that same boat. It's the reason I have a "Cat Closet," where my automatic litterbox is located. Trouble is, when he uses it, that thing gets to stinkin' - and pretty quick too! Thus, I've come to a resolution with a new home-automation system. I call it "ScentAssist." Let me explain...&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/engineerjoe440/ScentAssist/master/logo/ScentAssist.png" style="width: 40%; margin: 10px;" align="right" alt="ScentAssist"&gt;&lt;/p&gt;
&lt;p&gt;Like I said, we all love our pets, but sometimes the "stink" can be overwhelming. &lt;em&gt;Especially with cats...&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;My little "Cat Closet" helps to keep things somewhat isolated, but it produces a new challenge: all of that stink gets trapped &lt;strong&gt;&lt;em&gt;indefinitely&lt;/em&gt;&lt;/strong&gt;. That's... well, less than
ideal in just about any situation. So I came up with a solution that I call &lt;a href="https://github.com/engineerjoe440/ScentAssist"&gt;&lt;code&gt;ScentAssist&lt;/code&gt;&lt;/a&gt;. In a nutshell, it's an automatic
fan. Nothing crazy, but it's SUPER helpful, and pretty simple!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_1a16017.jpeg" style="width: 100%;" align="right" alt="ScentAssist"&gt;&lt;/p&gt;
&lt;p&gt;So, with a system that's not really IoT, but is embedded, I wanted a very predictable routine configuration. I wanted the system to be predictable, and work without too much
fuss.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;asside:&lt;/em&gt; I'm still working on that last part, but I'll get to that later...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With this desire in mind, I opted to base my system around a relatively simple state-machine.&lt;/p&gt;
&lt;p&gt;&lt;img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1MDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjczOHB4O2hlaWdodDo1MDRweDtiYWNrZ3JvdW5kOiMyODI4Mjg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3MzggNTA0IiB3aWR0aD0iNzM4cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjMjgyODI4IiBoZWlnaHQ9IjUwNCIgc3R5bGU9InN0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNzM4IiB4PSIwIiB5PSIwIi8+PGcgaWQ9IklETEUiPjxyZWN0IGZpbGw9IiMyODI4MjgiIGhlaWdodD0iNjQuMjM0NCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxNzIuNDg0NCIgeD0iMzY2LjQ5IiB5PSIxMDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNjYuNDkiIHgyPSI1MzguOTc0NCIgeTE9IjEzNC4yOTY5IiB5Mj0iMTM0LjI5NjkiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMS41NTQ3IiB4PSI0MzYuOTU0OCIgeT0iMTI1Ljk5NTEiPklETEU8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMwLjY3NTgiIHg9IjM3MS40OSIgeT0iMTUwLjQzNTUiPkdlbmVyaWMgU3lzdGVtIFN0YXRlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1Mi40ODQ0IiB4PSIzNzEuNDkiIHk9IjE2NC40MDQzIj4oZXZlcnl0aGluZyByZXR1cm5zIGhlcmUpPC90ZXh0PjwvZz48ZyBpZD0iQUNUSVZBVEUiPjxyZWN0IGZpbGw9IiMyODI4MjgiIGhlaWdodD0iNjQuMjM0NCIgcng9IjEyLjUiIHJ5PSIxMi41IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxNTMuODY5MSIgeD0iMjY5LjgiIHk9IjQzNC40NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI2OS44IiB4Mj0iNDIzLjY2OTEiIHkxPSI0NjAuNzM2OSIgeTI9IjQ2MC43MzY5Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguNTg1IiB4PSIzMTIuNDQyMSIgeT0iNDUyLjQzNTEiPkFDVElWQVRFPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMy44NjkxIiB4PSIyNzQuOCIgeT0iNDc2Ljg3NTUiPlR1cm4gb24gTEVEIGFuZCByZWxheTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MC43OTY5IiB4PSIyNzQuOCIgeT0iNDkwLjg0NDMiPnRvIGVuZXJnaXplIGZhbjwvdGV4dD48L2c+PGcgaWQ9IkRFVEVDVEVEIj48cmVjdCBmaWxsPSIjMjgyODI4IiBoZWlnaHQ9Ijc4LjIwMzEiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTQzLjI0NjEiIHg9IjE2OS4xMSIgeT0iMjY0LjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTY5LjExIiB4Mj0iMzEyLjM1NjEiIHkxPSIyOTAuNTI2OSIgeTI9IjI5MC41MjY5Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzQuOTc2NiIgeD0iMjAzLjI0NDgiIHk9IjI4Mi4yMjUxIj5ERVRFQ1RFRDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjMuMjQ2MSIgeD0iMTc0LjExIiB5PSIzMDYuNjY1NSI+Q29uZGl0aW9uIHR1cm5pbmcgb248L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTYuODIwMyIgeD0iMTc0LjExIiB5PSIzMjAuNjM0MyI+ZmFuLCBvciByZXNldHRpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjguNjQ4NCIgeD0iMTc0LjExIiB5PSIzMzQuNjAzIj5kZWxheSB0aW1lcjwvdGV4dD48L2c+PGcgaWQ9IlJFU0VUIj48cmVjdCBmaWxsPSIjMjgyODI4IiBoZWlnaHQ9Ijc4LjIwMzEiIHJ4PSIxMi41IiByeT0iMTIuNSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTM5Ljg5NDUiIHg9IjU5MS43OSIgeT0iMjY0LjIzIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTkxLjc5IiB4Mj0iNzMxLjY4NDUiIHkxPSIyOTAuNTI2OSIgeTI9IjI5MC41MjY5Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQuODU3NCIgeD0iNjM5LjMwODYiIHk9IjI4Mi4yMjUxIj5SRVNFVDwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDAuMjgzMiIgeD0iNTk2Ljc5IiB5PSIzMDYuNjY1NSI+VHVybiBmYW4gb2ZmLCBhbmQ8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE5Ljg5NDUiIHg9IjU5Ni43OSIgeT0iMzIwLjYzNDMiPnJlc3RvcmUgZGVmYXVsdCB0aW1lPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg5LjAxNTYiIHg9IjU5Ni43OSIgeT0iMzM0LjYwMyI+Y291bnRlciB2YWx1ZXM8L3RleHQ+PC9nPjxlbGxpcHNlIGN4PSI0NTIuNzMiIGN5PSIyMSIgZmlsbD0iIzI4MjgyOCIgcng9IjEwIiByeT0iMTAiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1saW5rICpzdGFydCogdG8gSURMRS0tPjxnIGlkPSJsaW5rXypzdGFydCpfSURMRSI+PHBhdGggZD0iTTQ1Mi43MywzMS4xOSBDNDUyLjczLDQ3LjQyIDQ1Mi43Myw3NS44NyA0NTIuNzMsMTAxLjUgIiBmaWxsPSJub25lIiBpZD0iKnN0YXJ0Ki10by1JRExFIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzNGRjMzIiBwb2ludHM9IjQ1Mi43MywxMDcuNSw0NTYuNzMsOTguNSw0NTIuNzMsMTAyLjUsNDQ4LjczLDk4LjUsNDUyLjczLDEwNy41IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NS43NDc2IiB4PSI0NTMuNzMiIHk9Ijc0LjA2NjkiPmJvb3R1cDwvdGV4dD48L2c+PCEtLWxpbmsgSURMRSB0byBBQ1RJVkFURS0tPjxnIGlkPSJsaW5rX0lETEVfQUNUSVZBVEUiPjxwYXRoIGQ9Ik00NTguMDMsMTcyLjMxIEM0NjUuMTksMjI0LjIgNDcyLjY5LDMyOS44NyA0MzAuNzMsNDA0LjQ0IEM0MjQuMjgsNDE1LjkxIDQxOS4zNjcxLDQyMi4wNzY3IDQwOC45MzcxLDQzMC4zNjY3ICIgZmlsbD0ibm9uZSIgaWQ9IklETEUtdG8tQUNUSVZBVEUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iNDA0LjI0LDQzNC4xLDQxMy43NzQ1LDQzMS42MzE0LDQwOC4xNTQyLDQzMC45ODg5LDQwOC43OTY3LDQyNS4zNjg2LDQwNC4yNCw0MzQuMSIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTMuNzU0OSIgeD0iNDY0LjczIiB5PSIzMDAuMzk2OSI+VXNlciBtYW51YWxseTwvdGV4dD48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NC4yNjUxIiB4PSI0NzEuNTQxIiB5PSIzMTUuNTI5NyI+YWN0aXZhdGVzIGZhbjwvdGV4dD48L2c+PCEtLWxpbmsgSURMRSB0byBERVRFQ1RFRC0tPjxnIGlkPSJsaW5rX0lETEVfREVURUNURUQiPjxwYXRoIGQ9Ik0zNjYuMzcsMTQxLjYxIEMyNjAuNjIsMTQ0LjI2IDkwLjU5LDE1NS44NiA1MC43MywyMDIuMjMgQzExLDI0OC40NiA5My42NDI4LDI3NS4yNjI0IDE2Mi44MDI4LDI4OS40NzI0ICIgZmlsbD0ibm9uZSIgaWQ9IklETEUtdG8tREVURUNURUQiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iMTY4LjY4LDI5MC42OCwxNjAuNjY5MiwyODQuOTUwNSwxNjMuNzgyMywyODkuNjczNywxNTkuMDU5MSwyOTIuNzg2OCwxNjguNjgsMjkwLjY4IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDEuMDcwMyIgeD0iNTEuNzMiIHk9IjIxNS4yOTY5Ij5GdWxseSBRdWFsaWZpZWQgTW90aW9uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMS44NDU3IiB4PSI3MC40NzQ2IiB5PSIyMzAuNDI5NyI+U2Vuc29yIERldGVjdGlvbjwvdGV4dD48L2c+PCEtLWxpbmsgREVURUNURUQgdG8gSURMRS0tPjxnIGlkPSJsaW5rX0RFVEVDVEVEX0lETEUiPjxwYXRoIGQ9Ik0yMjguODksMjY0LjE1IEMyMjUuMDQsMjQzLjg1IDIyNC42MywyMTkuNTcgMjM3LjczLDIwMi4yMyBDMjUzLjY3LDE4MS4xNCAzMDcuNjUyMywxNjYuMzQ1NiAzNjAuMTgyMywxNTYuMDM1NiAiIGZpbGw9Im5vbmUiIGlkPSJERVRFQ1RFRC10by1JRExFIiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMzNGRjMzIiBwb2ludHM9IjM2Ni4wNywxNTQuODgsMzU2LjQ2ODEsMTUyLjY4ODIsMzYxLjE2MzYsMTU1Ljg0MywzNTguMDA4OSwxNjAuNTM4NSwzNjYuMDcsMTU0Ljg4IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMzNGRjMzIiBmb250LWZhbWlseT0iVmVyZGFuYSIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDYuNDkxMiIgeD0iMjU3LjAwODEiIHk9IjIxNS4yOTY5Ij5TdGFydCBjb3VudGRvd24gdGltZXI8L3RleHQ+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgzLjA0NzQiIHg9IjI0Mi44NjIzIiB5PSIyMzAuNDI5NyI+KGRlbGF5IGFmdGVyIGRldGVjdGluZyBhIGNhdCk8L3RleHQ+PC9nPjwhLS1saW5rIERFVEVDVEVEIHRvIEFDVElWQVRFLS0+PGcgaWQ9ImxpbmtfREVURUNURURfQUNUSVZBVEUiPjxwYXRoIGQ9Ik0yMzkuOCwzNDIuNTIgQzI0MC45NywzNjIuMzUgMjQ1LjEyLDM4Ni4xNyAyNTYuNzMsNDA0LjQ0IEMyNjQuMDMsNDE1LjkxIDI2OS41MjgsNDIyLjE4NiAyODAuNTc4LDQzMC40MTYgIiBmaWxsPSJub25lIiBpZD0iREVURUNURUQtdG8tQUNUSVZBVEUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iMjg1LjM5LDQzNCwyODAuNTYxMyw0MjUuNDE2MSwyODEuMzgsNDMxLjAxMzQsMjc1Ljc4MjcsNDMxLjgzMjEsMjg1LjM5LDQzNCIgc3R5bGU9InN0cm9rZTojMzNGRjMzO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzMzRkYzMyIgZm9udC1mYW1pbHk9IlZlcmRhbmEiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY0LjU4MiIgeD0iMjU3LjczIiB5PSIzODUuNTA2OSI+RmFuIHdhcyBhbHJlYWR5IHJ1bm5pbmcsPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1MC44MzMiIHg9IjI2OC43MzY4IiB5PSI0MDAuNjM5NyI+bWF4aW1pemUgcnVubmluZyB0aW1lPC90ZXh0PjwvZz48IS0tbGluayBJRExFIHRvIFJFU0VULS0+PGcgaWQ9ImxpbmtfSURMRV9SRVNFVCI+PHBhdGggZD0iTTQ2NS4yOSwxNzIuNTcgQzQ3NC41MywxOTIuNDIgNDg4Ljc5LDIxNy4zOSA1MDcuNzMsMjM0LjIzIEM1MjEuMjIsMjQ2LjIzIDU1MS45NzEzLDI2MC4yNjYzIDU4NS45NTEzLDI3My44OTYzICIgZmlsbD0ibm9uZSIgaWQ9IklETEUtdG8tUkVTRVQiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iNTkxLjUyLDI3Ni4xMyw1ODQuNjU2MSwyNjkuMDY3LDU4Ni44Nzk0LDI3NC4yNjg2LDU4MS42Nzc4LDI3Ni40OTE5LDU5MS41MiwyNzYuMTMiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMzM0ZGMzMiIGZvbnQtZmFtaWx5PSJWZXJkYW5hIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzMi41MTM3IiB4PSI1MDguNzMiIHk9IjIyMi43OTY5Ij5GYW4gcnVudGltZSBlbGFwc2VzPC90ZXh0PjwvZz48IS0tbGluayBSRVNFVCB0byBJRExFLS0+PGcgaWQ9ImxpbmtfUkVTRVRfSURMRSI+PHBhdGggZD0iTTY2NC43NSwyNjQuMTEgQzY2NC4zMSwyNDMuNTQgNjYwLjIxLDIxOS4wMyA2NDUuNzMsMjAyLjIzIEM2MTkuMjMsMTcxLjQ4IDU4My4yNDA3LDE1Ny4yMzA3IDU0NS4yNjA3LDE0OS41NDA3ICIgZmlsbD0ibm9uZSIgaWQ9IlJFU0VULXRvLUlETEUiIHN0eWxlPSJzdHJva2U6IzMzRkYzMztzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMzM0ZGMzMiIHBvaW50cz0iNTM5LjM4LDE0OC4zNSw1NDcuNDA3MiwxNTQuMDU2NSw1NDQuMjgwNiwxNDkuMzQyMiw1NDguOTk0OCwxNDYuMjE1Niw1MzkuMzgsMTQ4LjM1IiBzdHlsZT0ic3Ryb2tlOiMzM0ZGMzM7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLVNSQz1bTkw2ekppQ200RHhwNUNWTWVsTzVFYklnNlhUTEFXQ3FpNTA2NHJ5UUl1YVRzVVVNeUZJU3VtR0FneF94VmRyN0RSTzhmUUZic0k2UWhET0EwVGtFVWIzZUl3U3hxalBhLV9tV08wS0ZRRDNmNGV3ejlzcFhJOTltbWNQdUdUVEpoU3FQNzU5bW5hRUQza1ZQUGJsaU5wVTVNNDcxaHMwRDc0R0VxWVktUXNIX1d2RTV3NzNNTm1ZTEQ1YWsyaDRqSEJ3MmhKTEFub1dHYlFFN2xPTnZVMDdNaVExNzhlUGxDMUxEVzdJQkJkaU1IcjZDRVBXM2pnZU1DU2E0QzktaUctUEtDWkdxaTJRaWpDNEdFaFo4OWczRmloVnhUcldrcnAzc194Mk1HZlZNWUN6SkF1UFVGRERRUU85aWNYdkVIZlFhQnBvVDdxZWNuWGdjbjRwT1hOWnVuRlV3cWdaV3FHeExKbVFFUTNwdHA5Nm03N3hjWF9ORlN5VmpoakEzUjFuQXJPQ0I5aXdzWTJBal9ESGp0N1h5SjNOX0E4c2ItOFNUZlVSQU5hclFDS2hDcWdnb1lla2ViOFE1OTlJSXZoeVozREVEUVRXaXFlNjlkVVMxNHBRUFZHQzBdLS0+PC9nPjwvc3ZnPg==" style="max-width:100%" width="100%" class="uml" alt="ScentAssist State Machine" title="ScentAssist State Machine" /&gt;&lt;/p&gt;
&lt;p&gt;So, that's all pretty simple, what &lt;em&gt;wasn't&lt;/em&gt; simple (or should I say &lt;em&gt;isn't&lt;/em&gt;, since I'm still working on it) was the motion-sensor qualification. I'm cheap, and a fan of
reusing old parts, so I pulled out an old 12VDC power supply from my "storage." It was originally from an RGB DJ light that I tore apart and hacked. Don't get me wrong,
the power supply is reasonable, enough, but it's not exactly... "clean." The output is a bit noisy. In fact, I've had trouble with these things before. I've used its
brethren before (that's right, I had like 8 of these things, at one point) and they &lt;em&gt;worked&lt;/em&gt;, but gave me trouble. So with all that noise, the motion sensor drives some
funny behavior on its output.&lt;/p&gt;
&lt;p&gt;I'm using little motion sensors like the one pictured below; they're simple enough, +/- voltage rails, and an output. The output provides a little less than a solid
digital signal, so I hooked it up to one of the analog inputs on the Arduino. No biggie. However, with all that noise from my friend the 12V supply, the output signal
becomes a bit...&lt;/p&gt;
&lt;p&gt;messy.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.amazon.com/gp/product/B096NZ4P3K/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;amp;psc=1"&gt;&lt;img alt="motion sensor" src="https://m.media-amazon.com/images/I/41AkdTj2yML._AC_SL1001_.jpg"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Still, it's not unreadable. I can pretty easily detect the step-change when visually inspecting the waveform, or watching the analog readouts from the Arduino, itself. Just
need to filter out all that garbage. Sure! Analog filtering is pretty easy. Right?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;...&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Right...?&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It was easy when I was in college, and had just learned the stuff. But I haven't touched algorithms like IIR (Infinite Impulse Response) in about three years! So,
needless to say, I was a bit rusty. Still am... in fact. The filtering I built still isn't &lt;em&gt;quite&lt;/em&gt; where I want it, but I'm close. Should just be a few more tweaks, and
then I'll be able to call this project complete!&lt;/p&gt;
&lt;p&gt;When I do complete it, I'll be sure to bring some more thoughts to this article (below), but for now... enjoy the few project photos!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="arduino"></category><category term="electro-mechanical"></category><category term="smart-home"></category><category term="development"></category><category term="platformio"></category><category term="pets"></category><category term="exhaust"></category></entry><entry><title>Home Automation... Condensed!</title><link href="https://blog.stanleysolutionsnw.com/home-automation-condensed.html" rel="alternate"></link><published>2022-05-23T15:23:00-07:00</published><updated>2022-05-23T15:23:00-07:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-05-23:/home-automation-condensed.html</id><summary type="html">&lt;p&gt;Seems that, these days, there's an endless number of things that need to be automated for an "all-out" home-automation system. But how should we bring all of that stuff together? Well, I think I've got an idea...&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you may already know, I've been doing lots to automate my home. It's come to the point that my mother and other family members complain that they
can't do anything in my house without me. Well, that's left me with a bit of a conundrum. How can I make it so that people can use the home-automation
things, but not need any of the nuianced nonsense?&lt;/p&gt;
&lt;h2&gt;All of the Audio&lt;/h2&gt;
&lt;p&gt;I've been working to make the audio "network" in my home quite extensive. Between use of &lt;a href="https://vb-audio.com/Voicemeeter/vban.htm"&gt;VBAN&lt;/a&gt; for digital
audio streaming between my study and living room (&lt;a href="/networked-audio-using-vban-and-rpi"&gt;read more here&lt;/a&gt;), and analog connections from my study to
kitchen, lab, and (yes) even bathroom. Now, the challenge with all that is that it's still highly reliant on my desktop or cell phone as the main source
of audio. Additionally, whenever I have virtual meetings in my study, I need to shut everything down around the house. Not very much fun.&lt;/p&gt;
&lt;p&gt;I decided that I need a central control to allow easy Pianobar playback control, in addition to a "master mute" button that'll disable all audio streaming
around the house. Now... I'm still working on the actual "control box" which will have all of the buttons, but the operational pannel is already set up.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_3d778f5.jpeg" style="width: 100%" alt="Audio Output Blocks"&gt;&lt;/p&gt;
&lt;p&gt;Since my analog stream is in stereo, I - of course - need to have four sets of terminals to make wiring easy. That's what's shown in the above picture;
there's one for +R, -R, +L, and -L. Everything we need! They all connect to an input block by way of an ESP-8266 relay-breakout-board (shown in the upper-right
of the image below).&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_eec766f.jpeg" style="width: 100%" alt="Audio Connector Control"&gt;&lt;/p&gt;
&lt;p&gt;When I get this set up (completely) the little ESP board will listen for &lt;a href="https://mqtt.org/"&gt;MQTT&lt;/a&gt; commands from my home-automation server that will tell it
to open the normally-closed relay contacts and effectively shut down the whole analog audio network by disconnecting my study mixer from the rest of the
house.&lt;/p&gt;
&lt;h2&gt;Detecting Doorbell Use&lt;/h2&gt;
&lt;p&gt;In my house, the doorbell is a bit difficult to hear from anywhere other than the livingroom. I mean, it's possible to hear it from around the house, but not
always. When I'm in the kitchen, if I'm cooking (which is often what I'm doing when I'm waiting for the doorbell), I can't often hear the bell over my skillet!
So, I want to integrate the doorbell detection into some more intelligent operations and be able to send push notifications or even play audio chimes through
the centralized audio system. Shouldn't be difficult, but I need to interface with one of my little &lt;a href="https://www.embeddedts.com/products/TS-7500"&gt;Technologic TS7500&lt;/a&gt;
computers. Now... this computer has a 5VDC input. Not exactly ideal when the doorbell is running at about 16VAC.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_c71dcbc.jpeg" style="width: 100%" alt="Doorbell Conditioning Circuit"&gt;&lt;/p&gt;
&lt;p&gt;Thus, another part of my home-automation center was built up. I needed to consume the AC input, run it through a bridge rectifier (the grey square on the right),
apply a little filtering and smoothing with a "reasonably big" capacitor, and then shove that into a 12VDC relay.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;and why, Joe, didn't you just use an AC relay?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Erm... I don't really have a good answer for that other than the fact that I had all of these components on-hand, and it seemed like fun. Call me cheap for not
picking up a $4.00 relay. Go ahead! I won't argue. It is cheap. But, I already had a few things on-hand, and heck! Why not?!&lt;/p&gt;
&lt;p&gt;That relay is really only needed to use the doorbell signal to trigger the 5VDC signal to pass to the little Linux computer's input which then, in turn, can be
monitored and used for triggering all manner of things.&lt;/p&gt;
&lt;h2&gt;Leveraging Lights&lt;/h2&gt;
&lt;p&gt;Another feature that I want to add is making one of the lights in my entryway a three-way switched light. The purpose of which is reasonably self-explanatory,
but I want to bring intelligence to one of the light in my living room. The challenge is that the light is a traditional one, and it's already wired into the
wall (properly), and I'd rather have a true three-way-switch than the dumb little "hack" that I used for my dining room light (which will surely change someday).&lt;/p&gt;
&lt;p&gt;I've gone ahead and connected a nice, big, wiring block (shown in the upper-right of the image below) to allow for connections into the computer and the light
itself. This should make it nice and convenient, and make a true 3-way switch possible where the computer and the light switch will always be responsive to
control, and I won't have to wait for the dumb thing to boot up and initialize.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_a8b8778.jpeg" style="width: 100%" alt="Wiring Blocks for Lights"&gt;&lt;/p&gt;
&lt;p&gt;The Technologic computer, of course, has its own relay-break-out-board which also sandwiches nicely into its fancy little aluminum case (shown below), and that
is how I'm taking control of the light. Just like any other three-way-switch, I'm using the NO/NC contacts to wire opposite those of the three way switch I'll
mount in the wall, and then I'll be able to control the light, either from a physical switch, or from the computer. Either way, no problem!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_5caf4e9.jpeg" style="width: 100%" alt="Computer and all the Power Supplies"&gt;&lt;/p&gt;
&lt;p&gt;You might also notice that there's a couple of power supplies there. I've got a nice little "computer-style" power supply which provides 5V, and I've also got
a little board that I salvaged from some old (crappy) DJ dance lights that provides 12V.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;and what, Joe, is the 12V supply for?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I'm glad you asked!&lt;/p&gt;
&lt;h2&gt;Talking with the Telegraph&lt;/h2&gt;
&lt;p&gt;That's right... I'm nerdy enough that I want to connect to an old Telegraph key, and actually &lt;em&gt;do something&lt;/em&gt; with it. I'm wiring it in by my front entryway
for no other purpose than to excentuate my "nerdiness". I'm not even quite sure what the system will do, yet, but I'll come up with something cool. Maybe
listen for special "commands" and "do" respond with secret messages if you send the right code. Maybe just repeating messages back to the sender. Maybe
other things. Who knows! If you've got some fun ideas, drop a note in the comments below!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;Side Note:&lt;/span&gt;
&lt;span class="sd"&gt;----------&lt;/span&gt;

&lt;span class="sd"&gt;In case you weren&amp;#39;t aware (and since I still haven&amp;#39;t written a post about how I did it, you&amp;#39;re probably not aware)&lt;/span&gt;
&lt;span class="sd"&gt;the comment system embedded here in my blog is all hosted on an old computer in my basement (one of many), and is&lt;/span&gt;
&lt;span class="sd"&gt;completely managed by me! So no worry about some third party service discontinuing their product. I get to keep&lt;/span&gt;
&lt;span class="sd"&gt;hosting it as long as I want... Go ahead! Try it out! It even supports markdown...&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_fe0af05.jpeg" style="width: 100%" alt="The Wiring Blocks and Power Supplies"&gt;&lt;/p&gt;
&lt;h2&gt;Wrapping Up&lt;/h2&gt;
&lt;p&gt;It's fair to say that there's quite a bit more that I still need to do here. In fact, I've got a lot of wiring to do, still... But I'm excited that this
project which, notably, is recycling the "box" that I used for my first foray into some home autoation is coming along nicely. In fact, this box contained
the same computer and some of the same components to allow me to dabble in my first home-automation and Python web-serving application. There's still much
to be learned.&lt;/p&gt;
&lt;p&gt;The Linux computer is OLD, and will only (realistically) run Debian 5, which will make updates near impossible. That means that Python is going to be
constrained to Python 2 (if I'm lucky, maybe I can load from the DeadSnakes PPA - but I'm doubtful), and that pretty much blocks the use of MQTT. That said,
I still think I can pretty effectively set up the computer to host a little web-server to have REST-API endpoints, and I think I can even get it set up to
&lt;em&gt;make&lt;/em&gt; REST-API calls.&lt;/p&gt;
&lt;p&gt;I'm excited to see what fun will come of this! Stay tuned for more!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="linux"></category><category term="python"></category><category term="self-hosting"></category><category term="home-automation"></category><category term="iot"></category><category term="esp8266"></category></entry><entry><title>Bringing Light to the... Living Room?</title><link href="https://blog.stanleysolutionsnw.com/bringing-light-to-the-living-room.html" rel="alternate"></link><published>2022-02-27T09:52:00-08:00</published><updated>2022-02-27T09:52:00-08:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2022-02-27:/bringing-light-to-the-living-room.html</id><summary type="html">&lt;p&gt;Shadow boxes deserve a shadow... right? Well, if there's a shadow, there has to be some light! That's what I've been working on; adding a little intelligent lighting to my shadow boxes! But, I've also been going crazy in the kitchen with some lights around the cabinets.&lt;/p&gt;</summary><content type="html">&lt;p&gt;I've been working on adding all sorts of smart lights around my home since I bought it, and the progress doesn't slow down!
I've pretty much covered all of the things that can be automated with little smart plugs. Everything from my scentsy's to my lamps, but now,
I need to automate some of the more... challenging things.&lt;/p&gt;
&lt;p&gt;I started a couple months ago with my coffee nook. I added a couple lights under the cabinet and hooked them up to a custom board, using an ESP-01S
to do my heavy lifting. I ran into a whole SLEW of issues with this. Drat! Everything from conflicting WiFi signals with my dual access points, to
blown out ESP modules, to faulty board designs. That's right, I incorrectly designed the board the first time around. &lt;em&gt;give me a dope-slap for that&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Turns out I'd left two pins on the ESP module floating (i.e., not connected to any power source or other electrical element), and they very much
needed to be connected to the Vcc node with a pull-up resistor. Should've looked more closely at those reference circuits the first time through.
Anyway, I've gotten that working now! Only took me two board-revs to get it done. Hah! We won't talk about the fact that the footprint of the board
as a whole isn't quite right... Another day...&lt;/p&gt;
&lt;p&gt;I really do need to share my learning from that project, don't I?&lt;/p&gt;
&lt;h4&gt;I digress...&lt;/h4&gt;
&lt;p&gt;So, yesterday I finally wrapped up the project of adding smart control to some new lights for the shadow-boxes in my living room. I use some old
wooden crates for shadow boxes. They go very well with the rest of my "old stuff" around the house, and now they have even more character!&lt;/p&gt;
&lt;p&gt;I picked up a set of &lt;a href="https://www.amazon.com/gp/product/B01LMSYUP4/ref=ppx_yo_dt_b_search_asin_title?ie=UTF8&amp;amp;psc=1"&gt;under cabinet LED lights&lt;/a&gt;
from Amazon, and some &lt;a href="https://www.amazon.com/gp/product/B00FEOB4EI/ref=ppx_yo_dt_b_asin_title_o04_s00?ie=UTF8&amp;amp;psc=1"&gt;12V DC supplies&lt;/a&gt;, combining
those with my little generic board, I was able to make some nice little controls.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_906029b.jpeg" style="width: 100%" alt="Imagination in a Box!"&gt;&lt;/p&gt;
&lt;p&gt;I did struggle a bit with picking the right N-MOS transistor for controlling the LEDs. My go-to is a BUZ11A, which is normally good enough. It's
rugged, general-purpose, and packs a punch for current control ability. Trouble is, that with my boards, the voltages weren't quite right. I
discovered this late yesterday afternoon when powering up the little board and flipping the WiFi-enabled "on-switch", and the LEDs barely
illuminated enough to see a dim glow. Not ideal for a shadow box.&lt;/p&gt;
&lt;p&gt;I scratched my head for a bit, and realized that the transistor's voltage thresholds weren't where I wanted them. Luckily enough, I had some options!
I dug around in my hoarder-size-stash of electronics and found a set of logic-level transistors which were better suited for the job. Still being
N-MOS, they were exactly what I needed. A bit of solder-wick later, I had my new transistors replaced, and my lights were working like a charm!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_5049e25.jpeg" style="width: 100%" alt="Illuminating my Imagination"&gt;&lt;/p&gt;
&lt;p&gt;Now mind you, this isn't a story of all up-and-up success. This is the... third whack at the design. I started with some 4.5V supplies. Those were
ample for the control circuit, but not for the LEDs themselves (since they're rated for closer to 12V). I then thought I'd get clever and use a
boost converter to do my dirty work so I could leave the rest of the circuitry intact. Didn't I learn anywhere that it's tricky to use a boost
converter coming off a PWM-enabled circuit? Guess not.&lt;/p&gt;
&lt;p&gt;Needless to say, both of those "adventures" were a bit less than ideal; but we got there! Third time's the charm!&lt;/p&gt;
&lt;h4&gt;Don't forget the kitchen!&lt;/h4&gt;
&lt;p&gt;Ok... Ok... I've also been working on illuminating the kitchen. I &lt;em&gt;seriously&lt;/em&gt; need to sit down and tell you about what I've been doing with that
coffee nook light. Those are some "fun" stories.&lt;/p&gt;
&lt;p&gt;Anyway, I had tried my hand at flashing Tasmota on some off-the-shelf WiFi-enabled smart LED controls. That failed pretty miserably. But those
controls were cheap, and I wasn't impressed anyway. I spent some serious time Googling around, and stumbled upon &lt;a href="https://www.athom.tech/"&gt;ATHOM&lt;/a&gt;
which produces pre-flashed Tasmota/ESPHome/WLED-enabled boards in enclosures designed for makers and tinkerers like me! From browsing their
website, it's clear that English is not their first language, but I'm solidly impressed by their hardware. Simple, effective, and in clean packaging.
They worked great, right out of the box, and I didn't have to fight those dumb boards that don't already come with Tasmota flashed. MARVELOUS!&lt;/p&gt;
&lt;p&gt;So... I went crazy with installing these things all over my kitchen for above and below each of the cabinets... Just take a look!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/ima_4ee1367.jpeg" style="width: 100%" alt="Illuminating my Imagination"&gt;&lt;/p&gt;
&lt;p&gt;That's basically the "orange" shade that Home-Assistant sets them with. But wow... when you come visit, remind me, and I'll show you the vibrance
of the blues, greens, and reds... it's stunning!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="esp8266"></category><category term="tasmota"></category><category term="smart-home"></category><category term="home-assistant"></category><category term="mqtt"></category><category term="iot"></category><category term="lighting"></category><category term="lights"></category><category term="development"></category></entry><entry><title>Creepy, Killer Vibes?</title><link href="https://blog.stanleysolutionsnw.com/creepy-killer-vibes.html" rel="alternate"></link><published>2021-12-07T21:36:00-08:00</published><updated>2021-12-07T21:36:00-08:00</updated><author><name>Joe Stanley</name></author><id>tag:blog.stanleysolutionsnw.com,2021-12-07:/creepy-killer-vibes.html</id><summary type="html">&lt;p&gt;My 115-year old house is getting a bit of a face lift. Well... Something like that.&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ok... I'm way behind on articles, so I'm gonna try to get this one out fast.&lt;/p&gt;
&lt;p&gt;This is, or at least should be, one of many articles on the subject of my home-improvement endeavors. I know, it's bit of a tangent
from my normal tech-focused stuff, but it's still very much "me." After all, it's taking what's old, and giving it new life!&lt;/p&gt;
&lt;p&gt;I bought my home in Potlatch in 2020, and I'm very pleased to be working on renovating so many parts of the home. It's daunting, sure;
but it's exciting to see the ol' place come back together!&lt;/p&gt;
&lt;p&gt;Right now, the big project is renovating upstairs. Downstairs was largely renovated when I bought, so upstairs is next. I'm working on
removing the old lath-and-plaster and replacing it with proper drywall. Admittedly, it's a bit spooky looking, and that's largely what
this post is intended to be about... Showing the creepy "behind the scenes" looks...&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/20211115_004428524_iOS.png" style="width: 50%;"&gt;&lt;/p&gt;
&lt;h5&gt;Hey! Take a look there!&lt;/h5&gt;
&lt;p&gt;It's the stairwell and the old chimney brick for the old kitchen stove. I'm going to work on lighting that brick up and framing it out
so it'll still be visible after the remodel. After all, isn't it cool? From a bygone era!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/20211115_004436243_iOS.jpg" style="width: 50%;"&gt;&lt;/p&gt;
&lt;h5&gt;I've even got a helper!&lt;/h5&gt;
&lt;p&gt;Look very closely, you'll see a companion who &lt;em&gt;thinks&lt;/em&gt; he's helping. Let's not tell him, hmm?&lt;/p&gt;
&lt;p&gt;This is a look around the master bedroom, and a look through what will become the bedroom wall. As I write, there's now some Sheetrock
hung here, but there's more to be done!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/20211115_004449997_iOS.jpg" style="width: 100%;"&gt;&lt;/p&gt;
&lt;p&gt;Lastly, here's a look at the closet, and back out into the hallway upstairs. This helps tie a few of the previous pictures together.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.stanleysolutionsnw.com/20211115_004454965_iOS.jpg" style="width: 50%;"&gt;&lt;/p&gt;
&lt;p&gt;Hopefully I'll keep on it, and provide some more updates as more transpires!&lt;/p&gt;</content><category term="Home-Improvement"></category><category term="home-renovation"></category><category term="improvement"></category><category term="renovation"></category><category term="restoration"></category></entry></feed>